{
  "contractName": "BankDateKeeper",
  "abi": [
    {
      "constant": true,
      "inputs": [
        {
          "name": "addr",
          "type": "address"
        },
        {
          "name": "roleName",
          "type": "string"
        }
      ],
      "name": "checkRole",
      "outputs": [],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "ONE_HOUR",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "addr",
          "type": "address"
        },
        {
          "name": "roleName",
          "type": "string"
        }
      ],
      "name": "hasRole",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "weeklyIntervalEnd",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "minIntervalSinceBankDeployment",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "weeksInTheFutureEnabled",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "weeklyIntervalStart",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "ONE_WEEK",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "initialTimestamp",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "GOVERNANCE_ROLE_NAME",
      "outputs": [
        {
          "name": "",
          "type": "string"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "name": "_sysGov",
          "type": "address"
        },
        {
          "name": "weeklyConfig",
          "type": "uint256[5]"
        },
        {
          "name": "_bankDates",
          "type": "uint256[]"
        },
        {
          "name": "_bankDatesIntervalStarts",
          "type": "uint256[]"
        },
        {
          "name": "_bankDatesIntervalEnds",
          "type": "uint256[]"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "addr",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "roleName",
          "type": "string"
        }
      ],
      "name": "RoleAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "addr",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "roleName",
          "type": "string"
        }
      ],
      "name": "RoleRemoved",
      "type": "event"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "interval",
          "type": "uint256"
        }
      ],
      "name": "setMinIntervalSinceBankDeployment",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "validationParams",
          "type": "uint256[4]"
        }
      ],
      "name": "validate",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_toAddDates",
          "type": "uint256[]"
        },
        {
          "name": "_toAddDatesIntervalStarts",
          "type": "uint256[]"
        },
        {
          "name": "_toAddDatesIntervalEnds",
          "type": "uint256[]"
        },
        {
          "name": "_toRemoveDates",
          "type": "uint256[]"
        }
      ],
      "name": "replaceDates",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getFixedDates",
      "outputs": [
        {
          "name": "dates",
          "type": "uint256[]"
        },
        {
          "name": "bankDatesIntervalStarts",
          "type": "uint256[]"
        },
        {
          "name": "bankDatesIntervalEnds",
          "type": "uint256[]"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x60806040523480156200001157600080fd5b506040516200160f3803806200160f83398101806040526101208110156200003857600080fd5b815160c083018051919360208101938101929091906401000000008111156200006057600080fd5b820160208101848111156200007457600080fd5b81518560208202830111640100000000821117156200009257600080fd5b50509291906020018051640100000000811115620000af57600080fd5b82016020810184811115620000c357600080fd5b8151856020820283011164010000000082111715620000e157600080fd5b50509291906020018051640100000000811115620000fe57600080fd5b820160208101848111156200011257600080fd5b81518560208202830111640100000000821117156200013057600080fd5b509093505050506001600160a01b0385166200014b57600080fd5b835142116200015957600080fd5b60208401516200016857600080fd5b60608401516040850151106200017d57600080fd5b62000190838383620001d260201b60201c565b8351600155602080850151600255604085015160035560608501516004556080850151600555620001c7908690620003aa811b901c565b5050505050620005b3565b81518351148015620001e5575080518251145b620001ef57600080fd5b825115620003a557600654156200024057826000815181106200020e57fe5b602002602001015160066002016000600160066000015403815260200190815260200160002054106200024057600080fd5b60005b83518110156200039857801562000295578381815181106200026157fe5b6020026020010151600660020160006001600660000154850103815260200190815260200160002054106200029557600080fd5b600160066003016000868481518110620002ab57fe5b6020026020010151815260200190815260200160002060006101000a81548160ff021916908315150217905550838181518110620002e557fe5b60209081029190910181015160065483016000908152600890925260409091205582518390829081106200031557fe5b6020026020010151600660040160008684815181106200033157fe5b60200260200101518152602001908152602001600020819055508181815181106200035857fe5b6020026020010151600660050160008684815181106200037457fe5b60209081029190910181015182528101919091526040016000205560010162000243565b5082516006805490910190555b505050565b620003f1816040518060400160405280600a81526020017f676f7665726e616e636500000000000000000000000000000000000000000000815250620003f460201b60201c565b50565b6200046d826000836040518082805190602001908083835b602083106200042d5780518252601f1990920191602091820191016200040c565b51815160209384036101000a6000190180199092169116179052920194855250604051938490038101909320939262000527811b62000fd417901c915050565b7fbfec83d64eaa953f2708271a023ab9ee82057f8f3578d548c1a4ba0b5b700489828260405180836001600160a01b03166001600160a01b0316815260200180602001828103825283818151815260200191508051906020019080838360005b83811015620004e7578181015183820152602001620004cd565b50505050905090810190601f168015620005155780820380516001836020036101000a031916815260200191505b50935050505060405180910390a15050565b6001600160a01b0381166200053b57600080fd5b6200054d82826200057d60201b60201c565b156200055857600080fd5b6001600160a01b0316600090815260209190915260409020805460ff19166001179055565b60006001600160a01b0382166200059357600080fd5b506001600160a01b03166000908152602091909152604090205460ff1690565b61104c80620005c36000396000f3fe608060405234801561001057600080fd5b50600436106100ea5760003560e01c80636bb65ff01161008c5780638e6f6b77116100665780638e6f6b77146105d15780638f82d273146105d9578063d6d14171146105f5578063f3bc843e146105fd576100ea565b80636bb65ff0146103855780637405ccc71461038d57806381c75e33146103aa576100ea565b806338b02ef5116100c857806338b02ef51461028757806339f26f2d1461028f5780633b669e081461029757806366a41fec1461037d576100ea565b80630988ca8c146100ef578063165035e2146101a5578063217fe6c6146101bf575b600080fd5b6101a36004803603604081101561010557600080fd5b6001600160a01b038235169190810190604081016020820135600160201b81111561012f57600080fd5b82018360208201111561014157600080fd5b803590602001918460018302840111600160201b8311171561016257600080fd5b91908080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525092955061067a945050505050565b005b6101ad6106f1565b60408051918252519081900360200190f35b610273600480360360408110156101d557600080fd5b6001600160a01b038235169190810190604081016020820135600160201b8111156101ff57600080fd5b82018360208201111561021157600080fd5b803590602001918460018302840111600160201b8311171561023257600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295506106f7945050505050565b604080519115158252519081900360200190f35b6101ad610737565b6101ad61073d565b61029f610743565b60405180806020018060200180602001848103845287818151815260200191508051906020019060200280838360005b838110156102e75781810151838201526020016102cf565b50505050905001848103835286818151815260200191508051906020019060200280838360005b8381101561032657818101518382015260200161030e565b50505050905001848103825285818151815260200191508051906020019060200280838360005b8381101561036557818101518382015260200161034d565b50505050905001965050505050505060405180910390f35b6101ad6108d1565b6101ad6108d7565b6101a3600480360360208110156103a357600080fd5b50356108dd565b6101a3600480360360808110156103c057600080fd5b810190602081018135600160201b8111156103da57600080fd5b8201836020820111156103ec57600080fd5b803590602001918460208302840111600160201b8311171561040d57600080fd5b9190808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152509295949360208101935035915050600160201b81111561045c57600080fd5b82018360208201111561046e57600080fd5b803590602001918460208302840111600160201b8311171561048f57600080fd5b9190808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152509295949360208101935035915050600160201b8111156104de57600080fd5b8201836020820111156104f057600080fd5b803590602001918460208302840111600160201b8311171561051157600080fd5b9190808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152509295949360208101935035915050600160201b81111561056057600080fd5b82018360208201111561057257600080fd5b803590602001918460208302840111600160201b8311171561059357600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929550610913945050505050565b6101ad61095e565b610273600480360360808110156105ef57600080fd5b50610965565b6101ad6109d5565b6106056109db565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561063f578181015183820152602001610627565b50505050905090810190601f16801561066c5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6106e4826000836040518082805190602001908083835b602083106106b05780518252601f199092019160209182019101610691565b51815160209384036101000a6000190180199092169116179052920194855250604051938490030190922092915050610a04565b6106ed57600080fd5b5050565b610e1081565b600061072e83600084604051808280519060200190808383602083106106b05780518252601f199092019160209182019101610691565b90505b92915050565b60045481565b60055481565b600754600654606091829182916000916107629163ffffffff610a3916565b90508060405190808252806020026020018201604052801561078e578160200160208202803883390190505b509350806040519080825280602002602001820160405280156107bb578160200160208202803883390190505b509250806040519080825280602002602001820160405280156107e8578160200160208202803883390190505b506007549092505b6006548110156108ca5760075460009061081190839063ffffffff610a3916565b60008381526008602052604090205487519192509087908390811061083257fe5b6020026020010181815250506006600401600087838151811061085157fe5b602002602001015181526020019081526020016000205485828151811061087457fe5b6020026020010181815250506006600501600087838151811061089357fe5b60200260200101518152602001908152602001600020548482815181106108b657fe5b6020908102919091010152506001016107f0565b5050909192565b60025481565b60035481565b6040518060400160405280600a8152602001600160b01b69676f7665726e616e63650281525061090d338261067a565b50600555565b6040518060400160405280600a8152602001600160b01b69676f7665726e616e636502815250610943338261067a565b61094e858585610a4e565b61095782610c15565b5050505050565b62093a8081565b6000610999826004806020026040519081016040528092919082600460200280828437600092019190915250610d6f915050565b806109cd57506040805160808181019092526109cd9184906004908390839080828437600092019190915250610eb7915050565b90505b919050565b60015481565b6040518060400160405280600a8152602001600160b01b69676f7665726e616e63650281525081565b60006001600160a01b038216610a1957600080fd5b506001600160a01b03166000908152602091909152604090205460ff1690565b600082821115610a4857600080fd5b50900390565b81518351148015610a60575080518251145b610a6957600080fd5b825115610c105760065415610ab65782600081518110610a8557fe5b60200260200101516006600201600060016006600001540381526020019081526020016000205410610ab657600080fd5b60005b8351811015610c03578015610b0757838181518110610ad457fe5b602002602001015160066002016000600160066000015485010381526020019081526020016000205410610b0757600080fd5b600160066003016000868481518110610b1c57fe5b6020026020010151815260200190815260200160002060006101000a81548160ff021916908315150217905550838181518110610b5557fe5b6020908102919091018101516006548301600090815260089092526040909120558251839082908110610b8457fe5b602002602001015160066004016000868481518110610b9f57fe5b6020026020010151815260200190815260200160002081905550818181518110610bc557fe5b602002602001015160066005016000868481518110610be057fe5b602090810291909101810151825281019190915260400160002055600101610ab9565b5082516006805490910190555b505050565b805115610d6c5760005b8151811015610d5f5760066003016000838381518110610c3b57fe5b60209081029190910181015182528101919091526040016000205460ff161515600114610c6757600080fd5b600060066003016000848481518110610c7c57fe5b6020026020010151815260200190815260200160002060006101000a81548160ff021916908315150217905550600060066004016000848481518110610cbe57fe5b6020026020010151815260200190815260200160002081905550600060066005016000848481518110610ced57fe5b6020026020010151815260200190815260200160002081905550818181518110610d1357fe5b602002602001015160066002016000600660010154840181526020019081526020016000205414610d4357600080fd5b6007548101600090815260086020526040812055600101610c1f565b5080516007805490910190555b50565b60015460009042908290610d919085835b60200201519063ffffffff610a3916565b90506000610daa60055484610f9b90919063ffffffff16565b90506000610dd6610dc962093a80600254610fad90919063ffffffff16565b839063ffffffff610f9b16565b905062093a808306159450848015610def575085518211155b8015610dfb5750855181115b94508415610eae5760015b6004811015610eac57858015610e365750610e10610e2c600154898460048110610d8057fe5b81610e3357fe5b06155b9550858015610e675750600354610e5490869063ffffffff610f9b16565b878260048110610e6057fe5b6020020151115b9550858015610e985750600454610e8590869063ffffffff610f9b16565b878260048110610e9157fe5b6020020151105b955085610ea457610eac565b600101610e06565b505b50505050919050565b805160009081526009602052604090205460ff16151560011480156109d05760015b6004811015610f9557818015610efe575042838260048110610ef757fe5b6020020151115b9150818015610f2b5750610f1842848360048110610d8057fe5b83516000908152600a6020526040902054105b9150818015610f585750610f4542848360048110610d8057fe5b83516000908152600b6020526040902054115b9150818015610f815750610e10610f77600154858460048110610d8057fe5b81610f7e57fe5b06155b915081610f8d57610f95565b600101610ed9565b50919050565b60008282018381101561072e57600080fd5b600082610fbc57506000610731565b82820282848281610fc957fe5b041461072e57600080fd5b6001600160a01b038116610fe757600080fd5b610ff18282610a04565b15610ffb57600080fd5b6001600160a01b0316600090815260209190915260409020805460ff1916600117905556fea165627a7a723058205d90f98d5ca4c0578e5f1348494f810d96fca58e488dfb618f1c89364e1594390029",
  "devdoc": {
    "methods": {
      "checkRole(address,string)": {
        "details": "reverts if addr does not have role",
        "params": {
          "addr": "address",
          "roleName": "the name of the role // reverts"
        }
      },
      "constructor": {
        "params": {
          "_bankDates": "- array of fixedDates",
          "_bankDatesIntervalEnds": "- array of interval ends for `_bankDates` (in seconds from start)",
          "_bankDatesIntervalStarts": "- array of interval starts for `_bankDates` (in seconds from start)",
          "weeklyConfig": "- 0 - initialTimestamp 1 - weeksInTheFutureEnabled 2 - lddIntervalStart - seconds from start (from the moment of deployment) 3 - lddIntervalEnd - seconds from end (from the moment of deployment) 4 - minIntervalSinceBankDeployment - interval between the date of bank deployment and starting a count for first valid weekly date."
        }
      },
      "hasRole(address,string)": {
        "details": "determine if addr has role",
        "params": {
          "addr": "address",
          "roleName": "the name of the role"
        },
        "return": "bool"
      },
      "replaceDates(uint256[],uint256[],uint256[],uint256[])": {
        "details": "replaceDates - serves to add/remove/replace fixedDates configuration for Bank Protocol.",
        "params": {
          "_toAddDates": "- array of timestamps to be added as fixed dates. Please note that we support adding dates such that they are in the future compared to the last date that has been added for consistency purposes. Attempt to add date that is before one of the dates that is already in the contract state would revert. This array can be empty if only date removal is needed.",
          "_toAddDatesIntervalEnds": "- array of intervals in seconds from the moment of bank deployment to the maximum ldd required upon bank creation (higher bounds). Every LDD would need to be lower then this higher bound which gets measured relative to bank deployment timestamp. This array indexes correspond to `_toAddDates` indexes. Every timestamp in `_toAddDates` would have related interval start and end in `_toAddDatesIntervalStarts` and `_toAddDatesIntervalEnds` accordingly.",
          "_toAddDatesIntervalStarts": "- array of intervals in seconds from the moment of bank deployment to the minimum ldd required upon bank creation (lower bounds). Every LDD would need to be higher then this lower bound which gets measured relative to bank deployment timestamp. This array indexes correspond to `_toAddDates` indexes. Every timestamp in `_toAddDates` would have related interval start and end in `_toAddDatesIntervalStarts` and `_toAddDatesIntervalEnds` accordingly.",
          "_toRemoveDates": "- array of timestamps that would need to get removed. This array must be sorted from lowest to highest and the function would revert otherwise. This array can be empty if only addition is needed."
        }
      },
      "validate(uint256[4])": {
        "params": {
          "validationParams": "- 0 - expirationDate - timestamp 1 - lddInvestEquity - timestamp 2 - lddInvestDebt - timestamp 3 - lddBorrow - timestamp"
        }
      }
    }
  }
}