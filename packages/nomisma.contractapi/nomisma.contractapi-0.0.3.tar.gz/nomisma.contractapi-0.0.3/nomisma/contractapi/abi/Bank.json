{
  "contractName": "Bank",
  "abi": [
    {
      "constant": true,
      "inputs": [],
      "name": "getLoanToken",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "resolver",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "loanToken",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "addr",
          "type": "address"
        },
        {
          "name": "roleName",
          "type": "string"
        }
      ],
      "name": "checkRole",
      "outputs": [],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "token",
          "type": "address"
        }
      ],
      "name": "getLtvInterestLengthForToken",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "collateralTokens",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getEthereumAddress",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "addr",
          "type": "address"
        },
        {
          "name": "roleName",
          "type": "string"
        }
      ],
      "name": "hasRole",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "address"
        },
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "ltvRates",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "address"
        },
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "borrowerLoanIdxes",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "tokenManager",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "collateralType",
          "type": "address"
        }
      ],
      "name": "getRateMatrixForCollateralType",
      "outputs": [
        {
          "name": "interestRatesArr",
          "type": "uint256[]"
        },
        {
          "name": "ltvRatesArr",
          "type": "uint256[]"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "tokensAmount",
          "type": "uint256"
        }
      ],
      "name": "getDebtPayout",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "collateralType",
          "type": "address"
        },
        {
          "name": "idx",
          "type": "uint256"
        }
      ],
      "name": "getRateByCtypeIdx",
      "outputs": [
        {
          "name": "ltvRate",
          "type": "uint256"
        },
        {
          "name": "interestRate",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "commissionBeneficiary",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "idx",
          "type": "uint256"
        }
      ],
      "name": "getLoan",
      "outputs": [
        {
          "name": "loan",
          "type": "bytes"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "equity",
          "type": "bool"
        }
      ],
      "name": "getToken",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "totalDebtPayout",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "tokensAmount",
          "type": "uint256"
        }
      ],
      "name": "redeemDebtTokens",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "loanOutstandingAmount",
      "outputs": [
        {
          "name": "totalOutstanding",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "src",
          "type": "address"
        },
        {
          "name": "dest",
          "type": "address"
        },
        {
          "name": "srcAmount",
          "type": "uint256"
        }
      ],
      "name": "getExchangeRate",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "loanIdx",
          "type": "uint256"
        }
      ],
      "name": "getRepayAmount",
      "outputs": [
        {
          "name": "repayAmount",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "MAX_LOANS_PER_BORROWER",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getCollateralTokensLength",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "registry",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "bankProperties",
      "outputs": [
        {
          "name": "commissionPercentage",
          "type": "uint256"
        },
        {
          "name": "postSettleBalance",
          "type": "uint256"
        },
        {
          "name": "isBankSettled",
          "type": "bool"
        },
        {
          "name": "minimumReserveRatio",
          "type": "uint256"
        },
        {
          "name": "expirationDate",
          "type": "uint256"
        },
        {
          "name": "debtInterest",
          "type": "uint256"
        },
        {
          "name": "debtCollected",
          "type": "uint256"
        },
        {
          "name": "equityCollected",
          "type": "uint256"
        },
        {
          "name": "totalBorrowed",
          "type": "uint256"
        },
        {
          "name": "initialised",
          "type": "bool"
        },
        {
          "name": "lddInvestEquity",
          "type": "uint256"
        },
        {
          "name": "lddInvestDebt",
          "type": "uint256"
        },
        {
          "name": "lddBorrow",
          "type": "uint256"
        },
        {
          "name": "isOriginalBank",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "dateKeeper",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "tokensAmount",
          "type": "uint256"
        }
      ],
      "name": "redeemEquityTokens",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "eventEmitter",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "amount",
          "type": "uint256"
        },
        {
          "name": "commission",
          "type": "uint256"
        }
      ],
      "name": "depositEquity",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": true,
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "loanIdx",
          "type": "uint256"
        }
      ],
      "name": "getOutstandingRepayAmount",
      "outputs": [
        {
          "name": "repayAmount",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "BASE_MULTIPLIER",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "address"
        },
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "interestRates",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "amount",
          "type": "uint256"
        },
        {
          "name": "commission",
          "type": "uint256"
        }
      ],
      "name": "depositDebt",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": true,
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getResolver",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getBankProperties",
      "outputs": [
        {
          "name": "postSettleBalance",
          "type": "uint256"
        },
        {
          "name": "expirationDate",
          "type": "uint256"
        },
        {
          "name": "debtInterest",
          "type": "uint256"
        },
        {
          "name": "debtCollected",
          "type": "uint256"
        },
        {
          "name": "equityCollected",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "tokensAmount",
          "type": "uint256"
        }
      ],
      "name": "getEquityPayout",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "exchangeConnector",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "collateralType",
          "type": "address"
        },
        {
          "name": "collateralAmount",
          "type": "uint256"
        },
        {
          "name": "desiredIdx",
          "type": "uint256"
        }
      ],
      "name": "borrow",
      "outputs": [],
      "payable": true,
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "equityToken",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "loanIdxes",
          "type": "uint256[]"
        },
        {
          "name": "paybackAmounts",
          "type": "uint256[]"
        }
      ],
      "name": "payBackLoans",
      "outputs": [],
      "payable": true,
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "rawData",
      "outputs": [
        {
          "name": "",
          "type": "bytes"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "RATE_PRECISION_MULTIPLIER",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "MAX_LOANS",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "loans",
      "outputs": [
        {
          "name": "borrowAmount",
          "type": "uint256"
        },
        {
          "name": "interestRate",
          "type": "uint256"
        },
        {
          "name": "repaidAmount",
          "type": "uint256"
        },
        {
          "name": "collateralAmount",
          "type": "uint256"
        },
        {
          "name": "collateralType",
          "type": "address"
        },
        {
          "name": "borrower",
          "type": "address"
        },
        {
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "MACLAURIN_PRECISION",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "collateralType",
          "type": "address"
        },
        {
          "name": "collateralAmount",
          "type": "uint256"
        },
        {
          "name": "desiredIdx",
          "type": "uint256"
        }
      ],
      "name": "getBorrowAmount",
      "outputs": [
        {
          "name": "borrowAmount",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "addressArgs",
          "type": "address[8]"
        },
        {
          "name": "numberArgs",
          "type": "uint256[6]"
        },
        {
          "name": "dateArgs",
          "type": "uint256[4]"
        },
        {
          "name": "data",
          "type": "bytes"
        }
      ],
      "name": "preinit",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": true,
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getEventEmitter",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "GOVERNANCE_ROLE_NAME",
      "outputs": [
        {
          "name": "",
          "type": "string"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getLoansLength",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "debtToken",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "addr",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "roleName",
          "type": "string"
        }
      ],
      "name": "RoleAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "addr",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "roleName",
          "type": "string"
        }
      ],
      "name": "RoleRemoved",
      "type": "event"
    }
  ],
  "bytecode": "0x6080604052600f805460ff191660011790556157ca806100206000396000f3fe6080604052600436106102ff5760003560e01c806385d1ed5111610190578063c6b43514116100dc578063e28897a111610095578063ee26c5761161006f578063ee26c57614610e8e578063f3bc843e14610ea3578063f89dcbfd14610eb8578063f8d8989814610ecd576102ff565b8063e28897a114610d09578063e6e8c02014610d1e578063e8f0e1ca14610d5d576102ff565b8063c6b4351414610b89578063cd28ef2214610b9e578063cdd1897a14610c5c578063d167608914610c71578063d5375bb014610c86578063e1ec3c6814610c9b576102ff565b8063a35b048811610149578063b3aa07dd11610123578063b3aa07dd14610ad8578063bc97faaa14610b18578063c0924b8014610b42578063c1bce0b714610b57576102ff565b8063a35b048814610a67578063a4720e3e14610aa0578063a9dc491d14610ac3576102ff565b806385d1ed51146109b157806397eedd96146109c65780639ff78c30146109f0578063a0672e8014610a05578063a2598dce14610a28578063a2b4439314610a52576102ff565b80633e156fb51161024f57806362aa2ee61161020857806373c209aa116101e257806373c209aa146108eb57806375c745a6146109005780637b1039991461091557806382cc51541461092a576102ff565b806362aa2ee6146108695780636b441d8a1461087e5780636ec32f9c146108c1576102ff565b80633e156fb5146106f8578063472256921461074a578063504006ca1461075f57806351489551146107fe5780635b7613be1461082a57806360fcbb7e1461083f576102ff565b806317bfdd57116102bc57806326d949111161029657806326d94911146105b45780632a709b14146105ed5780632b5bcda9146106025780632d549120146106ce576102ff565b806317bfdd5714610491578063217fe6c6146104a657806324f34c0c1461057b576102ff565b80630212a80b1461030457806304f3bcec1461033557806306d378171461034a5780630988ca8c1461035f578063168639bf14610422578063172c48c714610467575b600080fd5b34801561031057600080fd5b50610319610ee2565b604080516001600160a01b039092168252519081900360200190f35b34801561034157600080fd5b50610319610ef2565b34801561035657600080fd5b50610319610f01565b34801561036b57600080fd5b506104206004803603604081101561038257600080fd5b6001600160a01b038235169190810190604081016020820135600160201b8111156103ac57600080fd5b8201836020820111156103be57600080fd5b803590602001918460018302840111600160201b831117156103df57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610f10945050505050565b005b34801561042e57600080fd5b506104556004803603602081101561044557600080fd5b50356001600160a01b0316610f87565b60408051918252519081900360200190f35b34801561047357600080fd5b506103196004803603602081101561048a57600080fd5b5035610fa6565b34801561049d57600080fd5b50610319610fcd565b3480156104b257600080fd5b50610567600480360360408110156104c957600080fd5b6001600160a01b038235169190810190604081016020820135600160201b8111156104f357600080fd5b82018360208201111561050557600080fd5b803590602001918460018302840111600160201b8311171561052657600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550611046945050505050565b604080519115158252519081900360200190f35b34801561058757600080fd5b506104556004803603604081101561059e57600080fd5b506001600160a01b038135169060200135611086565b3480156105c057600080fd5b50610455600480360360408110156105d757600080fd5b506001600160a01b0381351690602001356110b4565b3480156105f957600080fd5b506103196110cd565b34801561060e57600080fd5b506106356004803603602081101561062557600080fd5b50356001600160a01b03166110dc565b604051808060200180602001838103835285818151815260200191508051906020019060200280838360005b83811015610679578181015183820152602001610661565b50505050905001838103825284818151815260200191508051906020019060200280838360005b838110156106b85781810151838201526020016106a0565b5050505090500194505050505060405180910390f35b3480156106da57600080fd5b50610455600480360360208110156106f157600080fd5b50356111ab565b34801561070457600080fd5b506107316004803603604081101561071b57600080fd5b506001600160a01b03813516906020013561124e565b6040805192835260208301919091528051918290030190f35b34801561075657600080fd5b5061031961130d565b34801561076b57600080fd5b506107896004803603602081101561078257600080fd5b503561131c565b6040805160208082528351818301528351919283929083019185019080838360005b838110156107c35781810151838201526020016107ab565b50505050905090810190601f1680156107f05780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561080a57600080fd5b506103196004803603602081101561082157600080fd5b5035151561139c565b34801561083657600080fd5b506104556113c8565b34801561084b57600080fd5b506105676004803603602081101561086257600080fd5b503561145e565b34801561087557600080fd5b50610455611848565b34801561088a57600080fd5b50610455600480360360608110156108a157600080fd5b506001600160a01b038135811691602081013590911690604001356118f8565b3480156108cd57600080fd5b50610455600480360360208110156108e457600080fd5b503561198f565b3480156108f757600080fd5b50610455611a61565b34801561090c57600080fd5b50610455611a66565b34801561092157600080fd5b50610319611a6c565b34801561093657600080fd5b5061093f611a7b565b604080519e8f5260208f019d909d529a15158d8d015260608d019990995260808c019790975260a08b019590955260c08a019390935260e0890191909152610100880152151561012087015261014086015261016085015261018084015215156101a083015251908190036101c00190f35b3480156109bd57600080fd5b50610319611ab3565b3480156109d257600080fd5b50610567600480360360208110156109e957600080fd5b5035611ac2565b3480156109fc57600080fd5b50610319611eb1565b61056760048036036040811015610a1b57600080fd5b5080359060200135611ec0565b348015610a3457600080fd5b5061045560048036036020811015610a4b57600080fd5b5035611f0e565b348015610a5e57600080fd5b50610455611f88565b348015610a7357600080fd5b5061045560048036036040811015610a8a57600080fd5b506001600160a01b038135169060200135611f94565b61056760048036036040811015610ab657600080fd5b5080359060200135611fad565b348015610acf57600080fd5b5061031961204b565b348015610ae457600080fd5b50610aed61205a565b6040805195865260208601949094528484019290925260608401526080830152519081900360a00190f35b348015610b2457600080fd5b5061045560048036036020811015610b3b57600080fd5b5035612070565b348015610b4e57600080fd5b506103196120a5565b61042060048036036060811015610b6d57600080fd5b506001600160a01b0381351690602081013590604001356120b4565b348015610b9557600080fd5b50610319612693565b61042060048036036040811015610bb457600080fd5b810190602081018135600160201b811115610bce57600080fd5b820183602082011115610be057600080fd5b803590602001918460208302840111600160201b83111715610c0157600080fd5b919390929091602081019035600160201b811115610c1e57600080fd5b820183602082011115610c3057600080fd5b803590602001918460208302840111600160201b83111715610c5157600080fd5b5090925090506126a2565b348015610c6857600080fd5b50610789612820565b348015610c7d57600080fd5b506104556128ae565b348015610c9257600080fd5b506104556128b4565b348015610ca757600080fd5b50610cc560048036036020811015610cbe57600080fd5b50356128b9565b6040805197885260208801969096528686019490945260608601929092526001600160a01b0390811660808601521660a084015260c0830152519081900360e00190f35b348015610d1557600080fd5b50610455612911565b348015610d2a57600080fd5b5061045560048036036060811015610d4157600080fd5b506001600160a01b038135169060208101359060400135612916565b6105676004803603610260811015610d7457600080fd5b810190808061010001906008806020026040519081016040528092919082600860200280828437600092019190915250506040805160c081810190925292959493818101939250906006908390839080828437600092019190915250506040805160808181019092529295949381810193925090600490839083908082843760009201919091525091949392602081019250359050600160201b811115610e1a57600080fd5b820183602082011115610e2c57600080fd5b803590602001918460018302840111600160201b83111715610e4d57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550612ae2945050505050565b348015610e9a57600080fd5b50610319612c9c565b348015610eaf57600080fd5b50610789612ce4565b348015610ec457600080fd5b50610455612d0d565b348015610ed957600080fd5b50610319612d13565b6011546001600160a01b03165b90565b6000546001600160a01b031681565b6011546001600160a01b031681565b610f7a826001836040518082805190602001908083835b60208310610f465780518252601f199092019160209182019101610f27565b51815160209384036101000a6000190180199092169116179052920194855250604051938490030190922092915050612d22565b610f8357600080fd5b5050565b6001600160a01b0381166000908152601c60205260409020545b919050565b601a8181548110610fb357fe5b6000918252602090912001546001600160a01b0316905081565b60155460408051600160e01b6317bfdd5702815290516000926001600160a01b0316916317bfdd57916004808301926020929190829003018186803b15801561101557600080fd5b505afa158015611029573d6000803e3d6000fd5b505050506040513d602081101561103f57600080fd5b5051905090565b600061107d8360018460405180828051906020019080838360208310610f465780518252601f199092019160209182019101610f27565b90505b92915050565b601c602052816000526040600020818154811061109f57fe5b90600052602060002001600091509150505481565b6010602052816000526040600020818154811061109f57fe5b6015546001600160a01b031681565b6001600160a01b0381166000908152601d60209081526040808320601c83529281902083548251818502810185019093528083526060948594909391849183018282801561114957602002820191906000526020600020905b815481526020019060010190808311611135575b505050505091508080548060200260200160405190810160405280929190818152602001828054801561119b57602002820191906000526020600020905b815481526020019060010190808311611187575b5050505050905091509150915091565b6000611080601260009054906101000a90046001600160a01b03166001600160a01b03166318160ddd6040518163ffffffff1660e01b815260040160206040518083038186803b1580156111fe57600080fd5b505afa158015611212573d6000803e3d6000fd5b505050506040513d602081101561122857600080fd5b5051611242846112366113c8565b9063ffffffff612d5716565b9063ffffffff612d7e16565b6001600160a01b0382166000908152601c60205260408120548190831061127457600080fd5b6001600160a01b0384166000908152601d6020526040902054831061129857600080fd5b6001600160a01b0384166000908152601c602052604090208054849081106112bc57fe5b90600052602060002001549150601d6000856001600160a01b03166001600160a01b0316815260200190815260200160002083815481106112f957fe5b906000526020600020015490509250929050565b6019546001600160a01b031681565b601b54606090821061132d57600080fd5b506040805161010081019182905260e0808252601b83529091600791907f3ad8aa4f87544323a9d1e5dd902f40c356527a7955687113db5f9a85ad579dc160005b6001850181101561139257868502810182015460208083028801015260010161136e565b5050505050919050565b600081156113b657506013546001600160a01b0316610fa1565b506012546001600160a01b0316610fa1565b6000611459600260010154601260009054906101000a90046001600160a01b03166001600160a01b03166318160ddd6040518163ffffffff1660e01b815260040160206040518083038186803b15801561142157600080fd5b505afa158015611435573d6000803e3d6000fd5b505050506040513d602081101561144b57600080fd5b50519063ffffffff612da016565b905090565b600654600090421161146f57600080fd5b6000821161147c57600080fd5b60125460408051600160e01b6323b872dd0281523360048201523060248201526044810185905290516001600160a01b03909216916323b872dd916064808201926020929091908290030181600087803b1580156114d957600080fd5b505af11580156114ed573d6000803e3d6000fd5b505050506040513d602081101561150357600080fd5b505161150e57600080fd5b60045460ff1661152957611520612db6565b61152957600080fd5b6000611534836111ab565b9050601560009054906101000a90046001600160a01b03166001600160a01b03166317bfdd576040518163ffffffff1660e01b815260040160206040518083038186803b15801561158457600080fd5b505afa158015611598573d6000803e3d6000fd5b505050506040513d60208110156115ae57600080fd5b50516011546001600160a01b03908116911614156115f957604051339082156108fc029083906000818181858888f193505050501580156115f3573d6000803e3d6000fd5b506117ad565b60155460408051600160e01b6335163b4302815290516000926001600160a01b0316916335163b43916004808301926020929190829003018186803b15801561164157600080fd5b505afa158015611655573d6000803e3d6000fd5b505050506040513d602081101561166b57600080fd5b50519050803b8061167b57600080fd5b50601154604080516001600160a01b039283166024820152336044820152606480820186905282518083039091018152608490910182526020810180516001600160e01b0316600160e01b63d1660f99021781529151815160009486169382918083835b602083106116fe5780518252601f1990920191602091820191016116df565b6001836020036101000a038019825116818451168082178552505050505050905001915050600060405180830381855af49150503d806000811461175e576040519150601f19603f3d011682016040523d82523d6000602084013e611763565b606091505b50509050806117aa5760408051600160e51b62461bcd028152602060048201526016602482015260008051602061570d833981519152604482015290519081900360640190fd5b50505b60175460408051600160e21b6252d34f028152336004820152602481018690526044810184905290516001600160a01b039092169163014b4d3c916064808201926020929091908290030181600087803b15801561180a57600080fd5b505af115801561181e573d6000803e3d6000fd5b505050506040513d602081101561183457600080fd5b505161183f57600080fd5b50600192915050565b60006060611855336130a3565b80548060200260200160405190810160405280929190818152602001828054801561189f57602002820191906000526020600020905b81548152602001906001019080831161188b575b505050505090506000815111156118f45760005b81518110156118f2576118e86118db8383815181106118ce57fe5b602002602001015161198f565b849063ffffffff6130bd16565b92506001016118b3565b505b5090565b60145460408051600160e11b6335a20ec50281526001600160a01b03868116600483015285811660248301526044820185905291516000939290921691636b441d8a91606480820192602092909190829003018186803b15801561195b57600080fd5b505afa15801561196f573d6000803e3d6000fd5b505050506040513d602081101561198557600080fd5b5051949350505050565b601b5460009082106119a057600080fd5b6000601b83815481106119af57fe5b90600052602060002090600702016000015490506000611a0e6001611a0262015180611242601b89815481106119e157fe5b906000526020600020906007020160060154426130cf90919063ffffffff16565b9063ffffffff6130e416565b9050611a59611a46601b8681548110611a2357fe5b906000526020600020906007020160010154612710612d7e90919063ffffffff16565b83908361016d601263ffffffff6130f416565b949350505050565b600581565b601a5490565b6016546001600160a01b031681565b600254600354600454600554600654600754600854600954600a54600b54600c54600d54600e54600f5460ff9b8c169b94851694168e565b6018546001600160a01b031681565b6000808211611ad057600080fd5b6006544211611ade57600080fd5b60135460408051600160e01b6323b872dd0281523360048201523060248201526044810185905290516001600160a01b03909216916323b872dd916064808201926020929091908290030181600087803b158015611b3b57600080fd5b505af1158015611b4f573d6000803e3d6000fd5b505050506040513d6020811015611b6557600080fd5b5051611b7057600080fd5b60045460ff16611b8b57611b82612db6565b611b8b57600080fd5b6000611b9683612070565b90506000601560009054906101000a90046001600160a01b03166001600160a01b03166317bfdd576040518163ffffffff1660e01b815260040160206040518083038186803b158015611be857600080fd5b505afa158015611bfc573d6000803e3d6000fd5b505050506040513d6020811015611c1257600080fd5b50516011549091506001600160a01b0380831691161415611c6057604051339083156108fc029084906000818181858888f19350505050158015611c5a573d6000803e3d6000fd5b50611e14565b60155460408051600160e01b6335163b4302815290516000926001600160a01b0316916335163b43916004808301926020929190829003018186803b158015611ca857600080fd5b505afa158015611cbc573d6000803e3d6000fd5b505050506040513d6020811015611cd257600080fd5b50519050803b80611ce257600080fd5b50601154604080516001600160a01b039283166024820152336044820152606480820187905282518083039091018152608490910182526020810180516001600160e01b0316600160e01b63d1660f99021781529151815160009486169382918083835b60208310611d655780518252601f199092019160209182019101611d46565b6001836020036101000a038019825116818451168082178552505050505050905001915050600060405180830381855af49150503d8060008114611dc5576040519150601f19603f3d011682016040523d82523d6000602084013e611dca565b606091505b5050905080611e115760408051600160e51b62461bcd028152602060048201526016602482015260008051602061570d833981519152604482015290519081900360640190fd5b50505b60175460408051600160e01b63f173aed9028152336004820152602481018790526044810185905290516001600160a01b039092169163f173aed9916064808201926020929091908290030181600087803b158015611e7257600080fd5b505af1158015611e86573d6000803e3d6000fd5b505050506040513d6020811015611e9c57600080fd5b5051611ea757600080fd5b5060019392505050565b6017546001600160a01b031681565b600c546000904210611ed157600080fd5b611edc34848461317d565b611ee6338461357d565b611eef57600080fd5b600954611f02908463ffffffff6130bd16565b60095550600192915050565b6000601b8281548110611f1d57fe5b90600052602060002090600702016000015460001415611f3f57506000610fa1565b611f488261198f565b905060008111611f5757600080fd5b611080601b8381548110611f6757fe5b906000526020600020906007020160020154826130cf90919063ffffffff16565b670de0b6b3a764000081565b601d602052816000526040600020818154811061109f57fe5b600d546000904210611fbe57600080fd5b611fc934848461317d565b60075460009061201590611fe6906127109063ffffffff612d7e16565b600654612002906201518090611242904263ffffffff6130cf16565b86919061016d601263ffffffff6130f416565b905061202233828661365e565b61202b57600080fd5b60085461203e908563ffffffff6130bd16565b6008555060019392505050565b6000546001600160a01b031690565b6003546006546007546008546009549091929394565b60008061207b6113c8565b60095460035491925061209e91611242908690611236908663ffffffff6130cf16565b9392505050565b6014546001600160a01b031681565b600e5442106120c257600080fd5b33600090815260106020526040902054839060051161211557604051600160e51b62461bcd0281526004018080602001828103825260488152602001806156326048913960600191505060405180910390fd5b601b54601e1161216f5760408051600160e51b62461bcd02815260206004820152601d60248201527f6c6f616e732e6c656e677468203d206f72203e204d41585f4c4f414e53000000604482015290519081900360640190fd5b6001600160a01b0381166000908152601d602052604090205482106121c857604051600160e51b62461bcd02815260040180806020018281038252602e8152602001806155d9602e913960400191505060405180910390fd5b6001600160a01b0381166000908152601d602052604081208054849081106121ec57fe5b906000526020600020015490506000612206838686612916565b9050600081116122605760408051600160e51b62461bcd02815260206004820152601060248201527f626f72726f77416d6f756e74203d203000000000000000000000000000000000604482015290519081900360640190fd5b60155460408051600160e01b6317bfdd5702815290516000926001600160a01b0316916317bfdd57916004808301926020929190829003018186803b1580156122a857600080fd5b505afa1580156122bc573d6000803e3d6000fd5b505050506040513d60208110156122d257600080fd5b505190506001600160a01b038481169082161415612346578534146123415760408051600160e51b62461bcd02815260206004820152601d60248201527f6d73672e76616c756520213d20636f6c6c61746572616c416d6f756e74000000604482015290519081900360640190fd5b612465565b341561238657604051600160e51b62461bcd0281526004018080602001828103825260278152602001806155546027913960400191505060405180910390fd5b60155460408051600160e01b63e53719cf0281523360048201526001600160a01b038781166024830152604482018a90529151919092169163e53719cf9160648083019260209291908290030181600087803b1580156123e557600080fd5b505af11580156123f9573d6000803e3d6000fd5b505050506040513d602081101561240f57600080fd5b50516124655760408051600160e51b62461bcd02815260206004820152601c60248201527f436f756c646e2774207472616e7366657220636f6c6c61746572616c00000000604482015290519081900360640190fd5b600a54612478908363ffffffff6130bd16565b600a556124888284888a33613746565b61249157600080fd5b6011546001600160a01b03828116911614156124da57604051339083156108fc029084906000818181858888f193505050501580156124d4573d6000803e3d6000fd5b5061268a565b60155460408051600160e01b6335163b4302815290516000926001600160a01b0316916335163b43916004808301926020929190829003018186803b15801561252257600080fd5b505afa158015612536573d6000803e3d6000fd5b505050506040513d602081101561254c57600080fd5b50519050803b8061255c57600080fd5b50601154604080516001600160a01b039283166024820152336044820152606480820187905282518083039091018152608490910182526020810180516001600160e01b0316600160e01b63d1660f99021781529151815160009486169382918083835b602083106125df5780518252601f1990920191602091820191016125c0565b6001836020036101000a038019825116818451168082178552505050505050905001915050600060405180830381855af49150503d806000811461263f576040519150601f19603f3d011682016040523d82523d6000602084013e612644565b606091505b505090508061268757604051600160e51b62461bcd0281526004018080602001828103825260228152602001806155b76022913960400191505060405180910390fd5b50505b50505050505050565b6013546001600160a01b031681565b60065442106126b057600080fd5b600061271f858580806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250506040805160208089028281018201909352888252909350889250879182918501908490808284376000920191909152506139da92505050565b90506000601560009054906101000a90046001600160a01b03166001600160a01b03166317bfdd576040518163ffffffff1660e01b815260040160206040518083038186803b15801561277157600080fd5b505afa158015612785573d6000803e3d6000fd5b505050506040513d602081101561279b57600080fd5b505190506127a98282613ba0565b61281886868080602002602001604051908101604052809392919081815260200183836020028082843760009201919091525050604080516020808a02828101820190935289825290935089925088918291850190849080828437600092019190915250869250613c9e915050565b505050505050565b601e805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156128a65780601f1061287b576101008083540402835291602001916128a6565b820191906000526020600020905b81548152906001019060200180831161288957829003601f168201915b505050505081565b61271081565b601e81565b601b81815481106128c657fe5b600091825260209091206007909102018054600182015460028301546003840154600485015460058601546006909601549496509294919390926001600160a01b0390811692169087565b601281565b6001600160a01b0383166000908152601c6020526040812054821061293a57600080fd5b6001600160a01b0384166000908152601d6020526040902054821061295e57600080fd5b61296661541c565b6040518060c00160405280601c6000886001600160a01b03166001600160a01b0316815260200190815260200160002085815481106129a157fe5b90600052602060002001548152602001612a00601d6000896001600160a01b03166001600160a01b0316815260200190815260200160002086815481106129e457fe5b9060005260206000200154612710612d7e90919063ffffffff16565b815260200160008152602001858152602001612a3162015180611242426002600401546130cf90919063ffffffff16565b8152601260209182015260145460115460408051600160e11b6335a20ec50281526001600160a01b03808c1660048301529283166024820152604481018a9052905194955089949190921692636b441d8a9260648082019391829003018186803b158015612a9e57600080fd5b505afa158015612ab2573d6000803e3d6000fd5b505050506040513d6020811015612ac857600080fd5b50516040830152612ad88261400c565b9695505050505050565b600f5460009060ff1615612b2a57604051600160e51b62461bcd0281526004018080602001828103825260238152602001806156b66023913960400191505060405180910390fd5b8451601780546001600160a01b0319166001600160a01b03909216919091179055612b5482614144565b6020850151601480546001600160a01b039283166001600160a01b031991821617909155604087015160158054918416918316919091179055606087015160188054918416918316919091179055608087015160198054919093169116179055612bbd8361442d565b60e085015160a0860151612bd19190614539565b8351612bdc57600080fd5b835161271011612beb57600080fd5b604084015161271011612bfd57600080fd5b60a084015161271011612c0f57600080fd5b600b5460ff1615612c1f57600080fd5b6040840151600255600b805460ff19166001179055835160075560a080850151600555850151601180546001600160a01b0319166001600160a01b03928316179055601754612c6e911661463f565b60608401516020850151608086015160c0880151612c9193349390929091614805565b506001949350505050565b60165460408051600160e11b63771362bb02815290516000926001600160a01b03169163ee26c576916004808301926020929190829003018186803b15801561101557600080fd5b6040518060400160405280600a8152602001600160b01b69676f7665726e616e63650281525081565b601b5490565b6012546001600160a01b031681565b60006001600160a01b038216612d3757600080fd5b506001600160a01b03166000908152602091909152604090205460ff1690565b600082612d6657506000611080565b82820282848281612d7357fe5b041461107d57600080fd5b6000808211612d8c57600080fd5b6000828481612d9757fe5b04949350505050565b6000818310612daf578161107d565b5090919050565b6000612dc0615452565b601b54604080518281526020808402820101909152600091606091908015612df2578160200160208202803883390190505b50905060005b601b54811015612eb757601b8181548110612e0f57fe5b60009182526020918290206040805160e081018252600790930290910180548084526001820154948401949094526002810154918301919091526003810154606083015260048101546001600160a01b03908116608084015260058201541660a08301526006015460c0820152945015612eaf5780828481518110612e9057fe5b6020908102919091010152612eac83600163ffffffff6130bd16565b92505b600101612df8565b50600a54600954600854600092612ee5929091612ed99163ffffffff6130bd16565b9063ffffffff6130cf16565b9050821561300c5760155460408051600160e01b6317bfdd5702815290516000926001600160a01b0316916317bfdd57916004808301926020929190829003018186803b158015612f3557600080fd5b505afa158015612f49573d6000803e3d6000fd5b505050506040513d6020811015612f5f57600080fd5b5051905060005b8481101561300957816001600160a01b0316601b858381518110612f8657fe5b602002602001015181548110612f9857fe5b60009182526020909120600460079092020101546001600160a01b03161415612fe057612fda6118db858381518110612fcd57fe5b6020026020010151614df8565b50613001565b612fff6118db858381518110612ff257fe5b6020026020010151614eee565b505b600101612f66565b50505b6004805460ff19166001178155600382905560175460408051600160e11b636ab18145028152928301849052516001600160a01b039091169163d563028a9160248083019260209291908290030181600087803b15801561306c57600080fd5b505af1158015613080573d6000803e3d6000fd5b505050506040513d602081101561309657600080fd5b5060019550505050505090565b6001600160a01b0316600090815260106020526040902090565b60008282018381101561107d57600080fd5b6000828211156130de57600080fd5b50900390565b600081831015612daf578161107d565b6000805b82811015613173576000806000613111848a8a8a6151c0565b91945092509050600061312e836112428d8763ffffffff612d5716565b9050816001141561315057613149868263ffffffff6130bd16565b9550613163565b613160868263ffffffff6130cf16565b95505b5050600190920191506130f89050565b5095945050505050565b600654421061318b57600080fd5b6000821161319857600080fd5b600081116131a557600080fd5b806131c461271061124260026000015486612d5790919063ffffffff16565b11156131cf57600080fd5b601560009054906101000a90046001600160a01b03166001600160a01b03166317bfdd576040518163ffffffff1660e01b815260040160206040518083038186803b15801561321d57600080fd5b505afa158015613231573d6000803e3d6000fd5b505050506040513d602081101561324757600080fd5b50516011546001600160a01b03908116911614156132cd5782613270838363ffffffff6130bd16565b1461327a57600080fd5b60195461328f906001600160a01b0316610eef565b6001600160a01b03166108fc829081150290604051600060405180830381858888f193505050501580156132c7573d6000803e3d6000fd5b50613578565b341561330d57604051600160e51b62461bcd0281526004018080602001828103825260278152602001806155546027913960400191505060405180910390fd5b6015546011546001600160a01b039182169163e53719cf91339116613338868663ffffffff6130bd16565b6040805163ffffffff861660e01b81526001600160a01b0394851660048201529290931660248301526044820152905160648083019260209291908290030181600087803b15801561338957600080fd5b505af115801561339d573d6000803e3d6000fd5b505050506040513d60208110156133b357600080fd5b50516133be57600080fd5b60155460408051600160e01b6335163b4302815290516000926001600160a01b0316916335163b43916004808301926020929190829003018186803b15801561340657600080fd5b505afa15801561341a573d6000803e3d6000fd5b505050506040513d602081101561343057600080fd5b50519050803b8061344057600080fd5b50601154601954604080516001600160a01b0393841660248201529183166044830152606480830186905281518084039091018152608490920181526020820180516001600160e01b0316600160e01b63d1660f9902178152905182516000948616939282918083835b602083106134c95780518252601f1990920191602091820191016134aa565b6001836020036101000a038019825116818451168082178552505050505050905001915050600060405180830381855af49150503d8060008114613529576040519150601f19603f3d011682016040523d82523d6000602084013e61352e565b606091505b50509050806135755760408051600160e51b62461bcd028152602060048201526016602482015260008051602061570d833981519152604482015290519081900360640190fd5b50505b505050565b60135460408051600160e01b6340c10f190281526001600160a01b03858116600483015260248201859052915160009392909216916340c10f199160448082019260209290919082900301818787803b1580156135d957600080fd5b505af11580156135ed573d6000803e3d6000fd5b505050506040513d602081101561360357600080fd5b505060175460408051600160e01b634215caf30281526001600160a01b0386811660048301526024820186905291519190921691634215caf39160448083019260209291908290030181600087803b15801561180a57600080fd5b60125460408051600160e01b6340c10f190281526001600160a01b03868116600483015260248201869052915160009392909216916340c10f199160448082019260209290919082900301818787803b1580156136ba57600080fd5b505af11580156136ce573d6000803e3d6000fd5b505050506040513d60208110156136e457600080fd5b505060175460408051600160e01b631b8312170281526001600160a01b038781166004830152602482018790526044820186905291519190921691631b8312179160648083019260209291908290030181600087803b158015611e7257600080fd5b6040805160e08101825286815260208082018781526000838501818152606085018981526001600160a01b038981166080880190815289821660a089018181524260c08b01908152601b805460018082018355828b529c517f3ad8aa4f87544323a9d1e5dd902f40c356527a7955687113db5f9a85ad579dc160079092029182015599517f3ad8aa4f87544323a9d1e5dd902f40c356527a7955687113db5f9a85ad579dc28b015596517f3ad8aa4f87544323a9d1e5dd902f40c356527a7955687113db5f9a85ad579dc38a015594517f3ad8aa4f87544323a9d1e5dd902f40c356527a7955687113db5f9a85ad579dc489015591517f3ad8aa4f87544323a9d1e5dd902f40c356527a7955687113db5f9a85ad579dc5880180546001600160a01b031990811692861692909217905591517f3ad8aa4f87544323a9d1e5dd902f40c356527a7955687113db5f9a85ad579dc688018054909316931692909217905590517f3ad8aa4f87544323a9d1e5dd902f40c356527a7955687113db5f9a85ad579dc790940193909355918152601090925292812092549092916138ec91906130cf565b815460018181018455600093845260209093200155601754601b546001600160a01b03909116916332c803a3918591879189918c918c91613933919063ffffffff6130cf16565b6040805163ffffffff891660e01b81526001600160a01b03978816600482015295909616602486015260448501939093526064840191909152608483015260a4820152905160c48083019260209291908290030181600087803b15801561399957600080fd5b505af11580156139ad573d6000803e3d6000fd5b505050506040513d60208110156139c357600080fd5b50516139ce57600080fd5b50600195945050505050565b60006005835111156139eb57600080fd5b81518351146139f957600080fd5b613a01615452565b60005b8351811015613b8b578015613a4857846001820381518110613a2257fe5b6020026020010151858281518110613a3657fe5b602002602001015111613a4857600080fd5b601b858281518110613a5657fe5b602002602001015181548110613a6857fe5b600091825260208083206040805160e0810182526007909402909101805484526001810154928401929092526002820154908301526003810154606083015260048101546001600160a01b03908116608084015260058201541660a08301526006015460c08201528551909350859083908110613ae157fe5b602002602001015111613af357600080fd5b60a08201516001600160a01b03163314613b0c57600080fd5b8151613b1757600080fd5b613b268582815181106118ce57fe5b613b508360400151868481518110613b3a57fe5b60200260200101516130bd90919063ffffffff16565b1115613b5b57600080fd5b613b81848281518110613b6a57fe5b6020026020010151846130bd90919063ffffffff16565b9250600101613a04565b5060008211613b9957600080fd5b5092915050565b6011546001600160a01b0382811691161415613bc757813414613bc257600080fd5b610f83565b3415613c0757604051600160e51b62461bcd0281526004018080602001828103825260278152602001806155546027913960400191505060405180910390fd5b60155460115460408051600160e01b63e53719cf0281523360048201526001600160a01b039283166024820152604481018690529051919092169163e53719cf9160648083019260209291908290030181600087803b158015613c6957600080fd5b505af1158015613c7d573d6000803e3d6000fd5b505050506040513d6020811015613c9357600080fd5b5051610f8357600080fd5b613ca6615452565b600080805b855181101561268a57601b878281518110613cc257fe5b602002602001015181548110613cd457fe5b60009182526020918290206040805160e0810182526007909302909101805483526001810154938301939093526002830154908201526003820154606082015260048201546001600160a01b03908116608083015260058301541660a082015260069091015460c08201528751909450613d54908890839081106118ce57fe5b9250613d80868281518110613d6557fe5b602002602001015185604001516130bd90919063ffffffff16565b915082821415613ff3576000601b888381518110613d9a57fe5b602002602001015181548110613dac57fe5b906000526020600020906007020160000181905550613dde878281518110613dd057fe5b602002602001015183615307565b50846001600160a01b031684608001516001600160a01b03161415613e33576060840151604051339180156108fc02916000818181858888f19350505050158015613e2d573d6000803e3d6000fd5b50613fee565b60155460408051600160e01b6335163b4302815290516000926001600160a01b0316916335163b43916004808301926020929190829003018186803b158015613e7b57600080fd5b505afa158015613e8f573d6000803e3d6000fd5b505050506040513d6020811015613ea557600080fd5b50519050803b80613eb557600080fd5b5060808501516060860151604080516001600160a01b0393841660248201523360448201526064808201939093528151808203909301835260840181526020820180516001600160e01b0316600160e01b63d1660f9902178152905182516000948616939282918083835b60208310613f3f5780518252601f199092019160209182019101613f20565b6001836020036101000a038019825116818451168082178552505050505050905001915050600060405180830381855af49150503d8060008114613f9f576040519150601f19603f3d011682016040523d82523d6000602084013e613fa4565b606091505b5050905080613feb5760408051600160e51b62461bcd028152602060048201526016602482015260008051602061570d833981519152604482015290519081900360640190fd5b50505b614004565b614002878281518110613dd057fe5b505b600101613cab565b600080614044670de0b6b3a7640000611242856000015161124261271061123689604001518a60600151612d5790919063ffffffff16565b91508190506140708360200151846080015161016d8660a00151856130f490949392919063ffffffff16565b91508082116140b357604051600160e51b62461bcd02815260040180806020018281038252602b815260200180615607602b913960400191505060405180910390fd5b600a546140c6908363ffffffff6130bd16565b6009546008546140fe9161271091611242916140e8919063ffffffff6130bd16565b600554611236906127109063ffffffff6130cf16565b101561413e57604051600160e51b62461bcd02815260040180806020018281038252603581526020018061576a6035913960400191505060405180910390fd5b50919050565b6040518160208301518083526040820191506020830181601a556000805b8381101561429f576014602083810287018281015192860192909252600090850181815285518351602c8801526040808801848152855161012c8a015261014c890185905283517f057c384a7d1c54f3a1b2e5e67b2617b8224fdfd1ea7234eea573a6ff665ff63e880155601c9052601d61014089015280832060a08901526101208801206101a08801529485016001019490915b8181101561428557806020026020018401516050840152600060608401526127106040840151101561422857600080fd5b60208102840160300151610150840152600061016084015261014083015161270f101561425457600080fd5b60408301518160206080860120015560406101000183015181602060806101000186012001556001810190506141f7565b506080820151819055610180909101515550600101614162565b505084516142b99450601e935060208601925090506154a1565b50601a546142fb57604051600160e51b62461bcd0281526004018080602001828103825260348152602001806156d96034913960400191505060405180910390fd5b60005b601a54811015610f83576000601c6000601a848154811061431b57fe5b60009182526020808320909101546001600160a01b031683528201929092526040019020541161437f57604051600160e51b62461bcd02815260040180806020018281038252603c81526020018061567a603c913960400191505060405180910390fd5b601754601a80546001600160a01b039092169163d63da2979190849081106143a357fe5b60009182526020808320909101546040805163ffffffff861660e01b81526001600160a01b0390921660048301525160248083019491928390030190829087803b1580156143f057600080fd5b505af1158015614404573d6000803e3d6000fd5b505050506040513d602081101561441a57600080fd5b505161442557600080fd5b6001016142fe565b601854604051600160e01b638f82d2730281526001600160a01b0390911690638f82d2739083906004018082608080838360005b83811015614479578181015183820152602001614461565b5050505090500191505060206040518083038186803b15801561449b57600080fd5b505afa1580156144af573d6000803e3d6000fd5b505050506040513d60208110156144c557600080fd5b505161451b5760408051600160e51b62461bcd02815260206004820152601c60248201527f6461746520617267756d656e747320617265206e6f742076616c696400000000604482015290519081900360640190fd5b80516006556020810151600c556040810151600d5560600151600e55565b60408051600160e01b639532b6ab0281526001600160a01b03838116600483015291518492831691639532b6ab916024808301926000929190829003018186803b15801561458657600080fd5b505afa15801561459a573d6000803e3d6000fd5b50505050806001600160a01b031663c8fe2c68601a6040518263ffffffff1660e01b81526004018080602001828103825283818154815260200191508054801561460d57602002820191906000526020600020905b81546001600160a01b031681526001909101906020018083116145ef575b50509250505060006040518083038186803b15801561462b57600080fd5b505afa15801561268a573d6000803e3d6000fd5b60155460115460408051600160e11b633c2e3e7b0281526001600160a01b0392831660048201529051600093929092169163785c7cf691602480820192602092909190829003018186803b15801561469657600080fd5b505afa1580156146aa573d6000803e3d6000fd5b505050506040513d60208110156146c057600080fd5b505160155460408051600160e01b6323c470150281526001600160a01b0386811660048301526024820185905291519394509116916323c47015916044808201926020929091908290030181600087803b15801561471d57600080fd5b505af1158015614731573d6000803e3d6000fd5b505050506040513d602081101561474757600080fd5b5051601280546001600160a01b0319166001600160a01b0392831617905560155460408051600160e01b63ad58295f0281528584166004820152602481018590529051919092169163ad58295f9160448083019260209291908290030181600087803b1580156147b657600080fd5b505af11580156147ca573d6000803e3d6000fd5b505050506040513d60208110156147e057600080fd5b5051601380546001600160a01b0319166001600160a01b039092169190911790555050565b60155460408051600160e01b6317bfdd5702815290516000926001600160a01b0316916317bfdd57916004808301926020929190829003018186803b15801561484d57600080fd5b505afa158015614861573d6000803e3d6000fd5b505050506040513d602081101561487757600080fd5b5051600254909150839061489a906127109061124290899063ffffffff612d5716565b11156148a557600080fd5b6011546001600160a01b038281169116141561493657838510156148c857600080fd5b856148d9868563ffffffff6130bd16565b146148e357600080fd5b6019546148f8906001600160a01b0316610eef565b6001600160a01b03166108fc849081150290604051600060405180830381858888f19350505050158015614930573d6000803e3d6000fd5b50614ccf565b341561497657604051600160e51b62461bcd0281526004018080602001828103825260278152602001806155546027913960400191505060405180910390fd5b60145460115460408051600160e11b6335a20ec50281526001600160a01b03928316600482015284831660248201526044810189905290516000939290921691636b441d8a91606480820192602092909190829003018186803b1580156149dc57600080fd5b505afa1580156149f0573d6000803e3d6000fd5b505050506040513d6020811015614a0657600080fd5b5051905084614a27670de0b6b3a7640000611242848a63ffffffff612d5716565b1015614a6757604051600160e51b62461bcd02815260040180806020018281038252603c81526020018061557b603c913960400191505060405180910390fd5b6015546011546001600160a01b039182169163e53719cf91869116614a928a8963ffffffff6130bd16565b6040805163ffffffff861660e01b81526001600160a01b0394851660048201529290931660248301526044820152905160648083019260209291908290030181600087803b158015614ae357600080fd5b505af1158015614af7573d6000803e3d6000fd5b505050506040513d6020811015614b0d57600080fd5b5051614b1857600080fd5b60155460408051600160e01b6335163b4302815290516000926001600160a01b0316916335163b43916004808301926020929190829003018186803b158015614b6057600080fd5b505afa158015614b74573d6000803e3d6000fd5b505050506040513d6020811015614b8a57600080fd5b50519050803b80614b9a57600080fd5b50601154601954604080516001600160a01b0393841660248201529183166044830152606480830189905281518084039091018152608490920181526020820180516001600160e01b0316600160e01b63d1660f9902178152905182516000948616939282918083835b60208310614c235780518252601f199092019160209182019101614c04565b6001836020036101000a038019825116818451168082178552505050505050905001915050600060405180830381855af49150503d8060008114614c83576040519150601f19603f3d011682016040523d82523d6000602084013e614c88565b606091505b5050905080614ccb57604051600160e51b62461bcd02815260040180806020018281038252603d81526020018061572d603d913960400191505060405180910390fd5b5050505b600954614ce2908663ffffffff6130bd16565b60095560135460408051600160e01b6340c10f190281526001600160a01b03858116600483015260248201899052915191909216916340c10f199160448083019260209291908290030181600087803b158015614d3e57600080fd5b505af1158015614d52573d6000803e3d6000fd5b505050506040513d6020811015614d6857600080fd5b505060175460408051600160e01b634215caf30281526001600160a01b0385811660048301526024820189905291519190921691634215caf39160448083019260209291908290030181600087803b158015614dc357600080fd5b505af1158015614dd7573d6000803e3d6000fd5b505050506040513d6020811015614ded57600080fd5b505161281857600080fd5b600080601b8381548110614e0857fe5b9060005260206000209060070201600301549050601460009054906101000a90046001600160a01b03166001600160a01b031663dca751a682601b8681548110614e4e57fe5b600091825260209182902060046007909202018101546011546040805163ffffffff881660e01b81526001600160a01b03938416948101949094529116602483015230604483015260648201879052516084808301939282900301818588803b158015614eba57600080fd5b505af1158015614ece573d6000803e3d6000fd5b50505050506040513d6020811015614ee557600080fd5b50519392505050565b600080601b8381548110614efe57fe5b90600052602060002090600702016003015490506000601560009054906101000a90046001600160a01b03166001600160a01b03166335163b436040518163ffffffff1660e01b815260040160206040518083038186803b158015614f6257600080fd5b505afa158015614f76573d6000803e3d6000fd5b505050506040513d6020811015614f8c57600080fd5b50519050803b80614f9c57600080fd5b506000816001600160a01b0316601b8681548110614fb657fe5b600091825260209182902060046007909202010154601454604080516001600160a01b0393841660248201529190921660448201526064808201889052825180830390910181526084909101825291820180516001600160e01b0316600160e01b63d1660f990217815290518251909182918083835b6020831061504b5780518252601f19909201916020918201910161502c565b6001836020036101000a038019825116818451168082178552505050505050905001915050600060405180830381855af49150503d80600081146150ab576040519150601f19603f3d011682016040523d82523d6000602084013e6150b0565b606091505b50509050806150f75760408051600160e51b62461bcd028152602060048201526016602482015260008051602061570d833981519152604482015290519081900360640190fd5b601454601b80546001600160a01b039092169163dca751a691908890811061511b57fe5b6000918252602080832060046007909302018201546011546040805163ffffffff881660e01b81526001600160a01b039384169581019590955291166024840152306044840152606483018990525160848084019492939192918390030190829087803b15801561518b57600080fd5b505af115801561519f573d6000803e3d6000fd5b505050506040513d60208110156151b557600080fd5b505195945050505050565b60008080866151d7575060019150819050806152fd565b86600114156151ff57846151f1878663ffffffff612d5716565b9093509150600190506152fd565b61520761551b565b6040518060c0016040528089890a815260200189870a815260200161522b8a6153f7565b8152600060208201819052604082018190526060909101529050615270816001602002015161123683600260200201518460005b60200201519063ffffffff612d5716565b606082015260026152828960016130cf565b8161528957fe5b0615615296576000615299565b60015b60ff16608082015260a0810186905260025b8881116152e3576152d66152ce88612ed98961123686600163ffffffff6130cf16565b83600561525f565b60a08301526001016152ab565b5060a0810151606082015160809092015190945090925090505b9450945094915050565b601b54600090831061531857600080fd5b600061534b601b858154811061532a57fe5b906000526020600020906007020160020154846130cf90919063ffffffff16565b905082601b858154811061535b57fe5b6000918252602090912060026007909202010155601754601b80546001600160a01b039092169163ee1e5a9d91908790811061539357fe5b60009182526020808320600560079093020191909101546040805163ffffffff861660e01b81526001600160a01b03909216600483015260248201879052604482018a90525160648083019491928390030190829087803b158015611e7257600080fd5b6001805b82811161413e57615412828263ffffffff612d5716565b91506001016153fb565b6040518060c001604052806000815260200160008152602001600081526020016000815260200160008152602001600081525090565b6040518060e001604052806000815260200160008152602001600081526020016000815260200160006001600160a01b0316815260200160006001600160a01b03168152602001600081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106154e257805160ff191683800117855561550f565b8280016001018555821561550f579182015b8281111561550f5782518255916020019190600101906154f4565b506118f4929150615539565b6040518060c001604052806006906020820280388339509192915050565b610eef91905b808211156118f4576000815560010161553f56fe506c6561736520646f206e6f742073656e642045544820696e2074686174207363656e6172696f43726561746f7227732062616c616e636520696e206c6f616e546f6b656e206973206c657373207468656e206d696e45717569747942616c616e6365736166655472616e73666572282920696e20626f72726f772829206661696c65642e4c656e677468206f6620696e74657265737452617465735b5d206973203c206f72203d206465736972656449647876616c756520746f6f20736d616c6c20696e7465726573742063616e206e6f74206265206170706c6965644c656e677468206f6620626f72726f7765724c6f616e496478657320666f72206d73672e73656e646572203e206f72203d204d41585f4c4f414e535f5045525f424f52524f57455242616e6b206372656174696f6e206572726f722e204e6f204c545620726174652070726573656e7420666f722074686520636f6c6c61746572616c2e46756e6374696f6e2063616e206e6f742062652063616c6c6564206469726563746c79436f6c6c61746572616c206e656365737361727920666f722062616e6b206372656174696f6e20646f65736e2774206578697374736166655472616e736665722829206661696c65642e00000000000000000000736166655472616e736665722829206661696c656420696e206465706f736974496e697445717569747928292c2042616e6b496e697469616c6973652e616d6f756e7420746f20626f72726f772073686f756c64206f626579206d696e696d756d52657365727665526174696f2072756c65a165627a7a72305820ce638bff472bc4cc09c7fd3ac8aeb9c79ae36c6ce132060fbd062f68d48576cd0029",
  "devdoc": {
    "methods": {
      "borrow(address,uint256,uint256)": {
        "details": "Function used to borrow tokens from Bank by setting state variables, creating `Loan` structs and transfering `loanToken`.",
        "params": {
          "collateralType": "- ERC20 token used as a `collateralToken`.",
          "desiredIdx": "- index used to get `ltvRates` and `interestRates` for a chosen `collateralToken`."
        }
      },
      "checkRole(address,string)": {
        "details": "reverts if addr does not have role",
        "params": {
          "addr": "address",
          "roleName": "the name of the role // reverts"
        }
      },
      "depositDebt(uint256,uint256)": {
        "details": "Mints and deposits debt. Sets corresponding state variables (`stateNumVariables`).",
        "params": {
          "amount": "- the amount of `debtTokens` to be minted and deposited.",
          "commission": "- the commission of deposit which correlates with amount using commissionPercentage rule"
        }
      },
      "depositEquity(uint256,uint256)": {
        "details": "Mints and deposits equity. Sets corresponding state variables (`stateNumVariables`).",
        "params": {
          "amount": "- the amount of `equityTokens` to be minted and deposited.",
          "commission": "- the commission of investment which correlates with amount using commissionPercentage rule"
        }
      },
      "getBorrowAmount(address,uint256,uint256)": {
        "details": "Gets `borrowAmount` for a chosen `Loan`.",
        "params": {
          "collateralAmount": "- the amount of a chosen `collateralToken`.",
          "collateralType": "- address of a chosen `collateralToken`.",
          "desiredIdx": "- index used to get `ltvRates` and `interestRates` for a chosen `collateralToken`."
        }
      },
      "getCollateralTokensLength()": {
        "details": "Gets the amount of `collateralTokens` used (length of `collateralTokens` array)."
      },
      "getEquityPayout(uint256)": {
        "details": "Calculates payout for `equityTokens` (how much `equityToken` would be paid according to a situation).",
        "params": {
          "tokensAmount": "- the amount of `equityTokens`."
        }
      },
      "getEthereumAddress()": {
        "details": "Returns ethereum address using `TokenManager` contract."
      },
      "getEventEmitter()": {
        "details": "Gets the address of a BankEventEmitter contract through BankRegistry contract."
      },
      "getExchangeRate(address,address,uint256)": {
        "details": "Gets exchange rate between two chosen ERC20 tokens using `ExchangeConnector` contract.",
        "params": {
          "dest": "- destination token.",
          "src": "- source token.",
          "srcAmount": "- the amount of source token to calculate exchange rate for."
        }
      },
      "getLoan(uint256)": {
        "details": "Gets bytes type `Loan` hash from index passed.",
        "params": {
          "idx": "- index of a `Loan` to get."
        }
      },
      "getLoanToken()": {
        "details": "Returns an address of `loanToken`."
      },
      "getLoansLength()": {
        "details": "Returns length of `loans` array."
      },
      "getLtvInterestLengthForToken(address)": {
        "details": "Gets all loan-to-value rates (`ltvRates` array) for a chosen token.",
        "params": {
          "token": "- address of a chosen token."
        }
      },
      "getRateByCtypeIdx(address,uint256)": {
        "details": "Returns `ltvRate` and `interestRate` for a chosen collateral type.",
        "params": {
          "collateralType": "- address of a chosen `collateralToken` to get rates for.",
          "idx": "- index of a row in ltv and interest rate matrix."
        }
      },
      "getRateMatrixForCollateralType(address)": {
        "details": "Gets rate matrix (`ltvRates` + `interestRates` arrays) for a chosen `collateralType` token. For every collateral token address that this bank accepts it specifies an array of collateral ratio and interest rate pairs. When the loan is issued the borrower picks collateral token and an index of appropriate collateral ratio and interest rate pair. The respective pair is used to calculate loan interest rate and loan amount given collateral ratio.",
        "params": {
          "collateralType": "- address of a chosen `collateralToken` to get rate matrix for."
        }
      },
      "getRepayAmount(uint256)": {
        "details": "Gets `repayAmount` for a chosen `Loan`.",
        "params": {
          "loanIdx": "- index of a `Loan` struct to get `repayAmount` for."
        }
      },
      "getResolver()": {
        "details": "Gets the address of a Resolver contract."
      },
      "getToken(bool)": {
        "details": "Returns ERC20 token address of `equityToken` or `debtToken`.",
        "params": {
          "equity": "- boolean value that represents if the token is `equityToken` or `debtToken`."
        }
      },
      "hasRole(address,string)": {
        "details": "determine if addr has role",
        "params": {
          "addr": "address",
          "roleName": "the name of the role"
        },
        "return": "bool"
      },
      "loanOutstandingAmount()": {
        "details": "Function shows how much should be paid to close all current `Loans`.",
        "params": {
          "totalOutstanding": "- total outstanding amount needs to be paid."
        }
      },
      "payBackLoans(uint256[],uint256[])": {
        "details": "Pays back `Loan` s according to requirements. Does all necessery transfers.",
        "params": {
          "loanIdxes": "- indexes of loans to be paid back.",
          "paybackAmounts": "- amounts to be paid back for each of the respective loanIdxes."
        }
      },
      "preinit(address[8],uint256[6],uint256[4],bytes)": {
        "details": "Initializes all necessary contracts for BankProtocol, sets state variables, runs before `init` function. and setting `BankEventEmitter` contract.",
        "params": {
          "addressArgs": "- 0 - eventEmitter address 1 - exchangeConnector address 2 - tokenManager address - `ERC20` contract used for creating `loanTokens`. 3 - dateKeeper address 4 - commissionBeneficiary - beneficiary of all bank commission. This address would receive all commission collected by this bank. 5 - loanToken address - loan token is the token which is the main token for the bank. Loans are issued in loan token and debt depositors as well as equity depositors can deposit equity/debt only in loanToken terms. Loan token can be any ERC‌-20 asset as well as Ethereum itself. 6 - bank creator address 7 - token validator address",
          "dateArgs": "- 0 - expirationDate - date when bank expire. 1 - lddInvestEquity - timestamp 2 - lddInvestDebt - timestamp 3 - lddBorrow - timestamp",
          "numberArgs": "- 0 - debtInterest - debt interest ratio with RATE_PRECISION_MULTIPLIER as precision. Should be always lower then RATE_PRECISION_MULTIPLIER. 1 - minEquityBalance - minimum balance in Ether that has to be passed upon bank construction. If minimum balance requirement is not met - bank deployment would revert. 2 - commissionPercentage - percentage size of commission for invest/deposit transaction which should be submitted with every invest/deposit transaction as well as on bank deployment for covering minEquity. 3 - srcAmount - actual amount that bank creator wants to invest in equity. Usable only when loanToken is not Ether itself. 4 - commission - commission amount sent together with bank deployment transaction 5 - minimumReserveRatio - minimum amount of equity/debt to keep in reserve when creating loans. This value is provided in percentage with RATE_PRECISION_MULTIPLIER as a multiplier and thus would be always lower then RATE_PRECISION_MULTIPLIER. if minimumReserveRatio is equal to RATE_PRECISION_MULTIPLIER this means that minimumReserveRatio is 100%."
        }
      },
      "redeemDebtTokens(uint256)": {
        "details": "Function used to redeem `debtTokens` from `borrowers` in case of a repaid or defaulted loan. Checks necessary conditions and transfers tokens. payoutAmount =  = ((totalRepaid - totalBorrowed) * equityDebtRatio * tokensAmount / debtTokensSuppy) + tokensAmount where: payoutAmount - amount in loanToken which debt depositor receives totalRepaid - amount in loanToken of repaid loans (only borrows which are actually repaid are taken into account here) totalBorrowed - amount in loanToken of borrowed loans (only borrows which are actually repaid are taken into account here) equityDebtRatio - value between 0 and 1 which defines the profits split between equity depositor and debt depositor tokensAmount - amount of debtTokens the debtDepositor is redeeming debtTokensSuppy - total amount of debtTokens issued (across all debt depositors)",
        "params": {
          "tokensAmount": "- the amount of `debtTokens` to be redeemed."
        }
      },
      "redeemEquityTokens(uint256)": {
        "details": "Function used to redeem `equityTokens` in case of a repaid or defaulted loan. Checks necessary conditions and transfers tokens.",
        "params": {
          "tokensAmount": "- the amount of `equityTokens` to be redeemed."
        }
      }
    }
  }
}