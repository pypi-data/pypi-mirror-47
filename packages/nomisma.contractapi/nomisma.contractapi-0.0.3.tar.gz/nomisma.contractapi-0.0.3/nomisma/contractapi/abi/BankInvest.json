{
  "contractName": "BankInvest",
  "abi": [
    {
      "constant": true,
      "inputs": [],
      "name": "resolver",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "loanToken",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "addr",
          "type": "address"
        },
        {
          "name": "roleName",
          "type": "string"
        }
      ],
      "name": "checkRole",
      "outputs": [],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "collateralTokens",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "addr",
          "type": "address"
        },
        {
          "name": "roleName",
          "type": "string"
        }
      ],
      "name": "hasRole",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "address"
        },
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "ltvRates",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "address"
        },
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "borrowerLoanIdxes",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "tokenManager",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "commissionBeneficiary",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "MAX_LOANS_PER_BORROWER",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "registry",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "bankProperties",
      "outputs": [
        {
          "name": "commissionPercentage",
          "type": "uint256"
        },
        {
          "name": "postSettleBalance",
          "type": "uint256"
        },
        {
          "name": "isBankSettled",
          "type": "bool"
        },
        {
          "name": "minimumReserveRatio",
          "type": "uint256"
        },
        {
          "name": "expirationDate",
          "type": "uint256"
        },
        {
          "name": "debtInterest",
          "type": "uint256"
        },
        {
          "name": "debtCollected",
          "type": "uint256"
        },
        {
          "name": "equityCollected",
          "type": "uint256"
        },
        {
          "name": "totalBorrowed",
          "type": "uint256"
        },
        {
          "name": "initialised",
          "type": "bool"
        },
        {
          "name": "lddInvestEquity",
          "type": "uint256"
        },
        {
          "name": "lddInvestDebt",
          "type": "uint256"
        },
        {
          "name": "lddBorrow",
          "type": "uint256"
        },
        {
          "name": "isOriginalBank",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "dateKeeper",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "eventEmitter",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "BASE_MULTIPLIER",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "address"
        },
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "interestRates",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "exchangeConnector",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "equityToken",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "rawData",
      "outputs": [
        {
          "name": "",
          "type": "bytes"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "RATE_PRECISION_MULTIPLIER",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "MAX_LOANS",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "loans",
      "outputs": [
        {
          "name": "borrowAmount",
          "type": "uint256"
        },
        {
          "name": "interestRate",
          "type": "uint256"
        },
        {
          "name": "repaidAmount",
          "type": "uint256"
        },
        {
          "name": "collateralAmount",
          "type": "uint256"
        },
        {
          "name": "collateralType",
          "type": "address"
        },
        {
          "name": "borrower",
          "type": "address"
        },
        {
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "MACLAURIN_PRECISION",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "GOVERNANCE_ROLE_NAME",
      "outputs": [
        {
          "name": "",
          "type": "string"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "debtToken",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "addr",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "roleName",
          "type": "string"
        }
      ],
      "name": "RoleAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "addr",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "roleName",
          "type": "string"
        }
      ],
      "name": "RoleRemoved",
      "type": "event"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "amount",
          "type": "uint256"
        },
        {
          "name": "commission",
          "type": "uint256"
        }
      ],
      "name": "depositEquity",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": true,
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "amount",
          "type": "uint256"
        },
        {
          "name": "commission",
          "type": "uint256"
        }
      ],
      "name": "depositDebt",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": true,
      "stateMutability": "payable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b5061150d806100206000396000f3fe60806040526004361061019c5760003560e01c80639ff78c30116100ec578063cdd1897a1161008a578063e1ec3c6811610064578063e1ec3c68146106a8578063e28897a114610716578063f3bc843e1461072b578063f8d89898146107405761019c565b8063cdd1897a146105f4578063d16760891461067e578063d5375bb0146106935761019c565b8063a35b0488116100c6578063a35b04881461056e578063a4720e3e146105a7578063c0924b80146105ca578063c6b43514146105df5761019c565b80639ff78c3014610521578063a0672e8014610536578063a2b44393146105595761019c565b806326d949111161015957806373c209aa1161013357806373c209aa1461045b5780637b1039991461047057806382cc51541461048557806385d1ed511461050c5761019c565b806326d94911146103f85780632a709b141461043157806347225692146104465761019c565b806304f3bcec146101a157806306d37817146101d25780630988ca8c146101e7578063172c48c7146102ac578063217fe6c6146102d657806324f34c0c146103ad575b600080fd5b3480156101ad57600080fd5b506101b6610755565b604080516001600160a01b039092168252519081900360200190f35b3480156101de57600080fd5b506101b6610764565b3480156101f357600080fd5b506102aa6004803603604081101561020a57600080fd5b6001600160a01b03823516919081019060408101602082013564010000000081111561023557600080fd5b82018360208201111561024757600080fd5b8035906020019184600183028401116401000000008311171561026957600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610773945050505050565b005b3480156102b857600080fd5b506101b6600480360360208110156102cf57600080fd5b50356107ea565b3480156102e257600080fd5b50610399600480360360408110156102f957600080fd5b6001600160a01b03823516919081019060408101602082013564010000000081111561032457600080fd5b82018360208201111561033657600080fd5b8035906020019184600183028401116401000000008311171561035857600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610811945050505050565b604080519115158252519081900360200190f35b3480156103b957600080fd5b506103e6600480360360408110156103d057600080fd5b506001600160a01b038135169060200135610851565b60408051918252519081900360200190f35b34801561040457600080fd5b506103e66004803603604081101561041b57600080fd5b506001600160a01b03813516906020013561087f565b34801561043d57600080fd5b506101b6610898565b34801561045257600080fd5b506101b66108a7565b34801561046757600080fd5b506103e66108b6565b34801561047c57600080fd5b506101b66108bb565b34801561049157600080fd5b5061049a6108ca565b604080519e8f5260208f019d909d529a15158d8d015260608d019990995260808c019790975260a08b019590955260c08a019390935260e0890191909152610100880152151561012087015261014086015261016085015261018084015215156101a083015251908190036101c00190f35b34801561051857600080fd5b506101b6610902565b34801561052d57600080fd5b506101b6610911565b6103996004803603604081101561054c57600080fd5b5080359060200135610920565b34801561056557600080fd5b506103e661096e565b34801561057a57600080fd5b506103e66004803603604081101561059157600080fd5b506001600160a01b03813516906020013561097a565b610399600480360360408110156105bd57600080fd5b5080359060200135610993565b3480156105d657600080fd5b506101b6610a3d565b3480156105eb57600080fd5b506101b6610a4c565b34801561060057600080fd5b50610609610a5b565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561064357818101518382015260200161062b565b50505050905090810190601f1680156106705780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561068a57600080fd5b506103e6610ae9565b34801561069f57600080fd5b506103e6610aef565b3480156106b457600080fd5b506106d2600480360360208110156106cb57600080fd5b5035610af4565b6040805197885260208801969096528686019490945260608601929092526001600160a01b0390811660808601521660a084015260c0830152519081900360e00190f35b34801561072257600080fd5b506103e6610b4c565b34801561073757600080fd5b50610609610b51565b34801561074c57600080fd5b506101b6610b7a565b6000546001600160a01b031681565b6011546001600160a01b031681565b6107dd826001836040518082805190602001908083835b602083106107a95780518252601f19909201916020918201910161078a565b51815160209384036101000a6000190180199092169116179052920194855250604051938490030190922092915050610b89565b6107e657600080fd5b5050565b601a81815481106107f757fe5b6000918252602090912001546001600160a01b0316905081565b600061084883600184604051808280519060200190808383602083106107a95780518252601f19909201916020918201910161078a565b90505b92915050565b601c602052816000526040600020818154811061086a57fe5b90600052602060002001600091509150505481565b6010602052816000526040600020818154811061086a57fe5b6015546001600160a01b031681565b6019546001600160a01b031681565b600581565b6016546001600160a01b031681565b600254600354600454600554600654600754600854600954600a54600b54600c54600d54600e54600f5460ff9b8c169b94851694168e565b6018546001600160a01b031681565b6017546001600160a01b031681565b600c54600090421061093157600080fd5b61093c348484610bbe565b6109463384610fd0565b61094f57600080fd5b600954610962908463ffffffff6110ef16565b60095550600192915050565b670de0b6b3a764000081565b601d602052816000526040600020818154811061086a57fe5b600d5460009042106109a457600080fd5b6109af348484610bbe565b600754600090610a07906109cc906127109063ffffffff61110116565b6006546109f49062015180906109e8904263ffffffff61112316565b9063ffffffff61110116565b86919061016d601263ffffffff61113816565b9050610a143382866111c1565b610a1d57600080fd5b600854610a30908563ffffffff6110ef16565b6008555060019392505050565b6014546001600160a01b031681565b6013546001600160a01b031681565b601e805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529291830182828015610ae15780601f10610ab657610100808354040283529160200191610ae1565b820191906000526020600020905b815481529060010190602001808311610ac457829003601f168201915b505050505081565b61271081565b601e81565b601b8181548110610b0157fe5b600091825260209091206007909102018054600182015460028301546003840154600485015460058601546006909601549496509294919390926001600160a01b0390811692169087565b601281565b6040518060400160405280600a8152602001600160b01b69676f7665726e616e63650281525081565b6012546001600160a01b031681565b60006001600160a01b038216610b9e57600080fd5b506001600160a01b03166000908152602091909152604090205460ff1690565b6006544210610bcc57600080fd5b60008211610bd957600080fd5b60008111610be657600080fd5b80610c056127106109e8600260000154866112e890919063ffffffff16565b1115610c1057600080fd5b601560009054906101000a90046001600160a01b03166001600160a01b03166317bfdd576040518163ffffffff1660e01b815260040160206040518083038186803b158015610c5e57600080fd5b505afa158015610c72573d6000803e3d6000fd5b505050506040513d6020811015610c8857600080fd5b50516011546001600160a01b0390811691161415610d0e5782610cb1838363ffffffff6110ef16565b14610cbb57600080fd5b601954610cd0906001600160a01b031661130f565b6001600160a01b03166108fc829081150290604051600060405180830381858888f19350505050158015610d08573d6000803e3d6000fd5b50610fcb565b3415610d4e57604051600160e51b62461bcd0281526004018080602001828103825260278152602001806114bb6027913960400191505060405180910390fd5b6015546011546001600160a01b039182169163e53719cf91339116610d79868663ffffffff6110ef16565b6040805163ffffffff861660e01b81526001600160a01b0394851660048201529290931660248301526044820152905160648083019260209291908290030181600087803b158015610dca57600080fd5b505af1158015610dde573d6000803e3d6000fd5b505050506040513d6020811015610df457600080fd5b5051610dff57600080fd5b60155460408051600160e01b6335163b4302815290516000926001600160a01b0316916335163b43916004808301926020929190829003018186803b158015610e4757600080fd5b505afa158015610e5b573d6000803e3d6000fd5b505050506040513d6020811015610e7157600080fd5b50519050803b80610e8157600080fd5b50601154601954604080516001600160a01b0393841660248201529183166044830152606480830186905281518084039091018152608490920181526020820180516001600160e01b0316600160e01b63d1660f9902178152905182516000948616939282918083835b60208310610f0a5780518252601f199092019160209182019101610eeb565b6001836020036101000a038019825116818451168082178552505050505050905001915050600060405180830381855af49150503d8060008114610f6a576040519150601f19603f3d011682016040523d82523d6000602084013e610f6f565b606091505b5050905080610fc85760408051600160e51b62461bcd02815260206004820152601660248201527f736166655472616e736665722829206661696c65642e00000000000000000000604482015290519081900360640190fd5b50505b505050565b60135460408051600160e01b6340c10f190281526001600160a01b03858116600483015260248201859052915160009392909216916340c10f199160448082019260209290919082900301818787803b15801561102c57600080fd5b505af1158015611040573d6000803e3d6000fd5b505050506040513d602081101561105657600080fd5b505060175460408051600160e01b634215caf30281526001600160a01b0386811660048301526024820186905291519190921691634215caf39160448083019260209291908290030181600087803b1580156110b157600080fd5b505af11580156110c5573d6000803e3d6000fd5b505050506040513d60208110156110db57600080fd5b50516110e657600080fd5b50600192915050565b60008282018381101561084857600080fd5b600080821161110f57600080fd5b600082848161111a57fe5b04949350505050565b60008282111561113257600080fd5b50900390565b6000805b828110156111b7576000806000611155848a8a8a611312565b919450925090506000611172836109e88d8763ffffffff6112e816565b905081600114156111945761118d868263ffffffff6110ef16565b95506111a7565b6111a4868263ffffffff61112316565b95505b50506001909201915061113c9050565b5095945050505050565b60125460408051600160e01b6340c10f190281526001600160a01b03868116600483015260248201869052915160009392909216916340c10f199160448082019260209290919082900301818787803b15801561121d57600080fd5b505af1158015611231573d6000803e3d6000fd5b505050506040513d602081101561124757600080fd5b505060175460408051600160e01b631b8312170281526001600160a01b038781166004830152602482018790526044820186905291519190921691631b8312179160648083019260209291908290030181600087803b1580156112a957600080fd5b505af11580156112bd573d6000803e3d6000fd5b505050506040513d60208110156112d357600080fd5b50516112de57600080fd5b5060019392505050565b6000826112f75750600061084b565b8282028284828161130457fe5b041461084857600080fd5b90565b600080808661132957506001915081905080611467565b86600114156113515784611343878663ffffffff6112e816565b909350915060019050611467565b61135961149c565b6040518060c0016040528089890a815260200189870a815260200161137d8a611471565b81526000602082018190526040820181905260609091015290506113ce81600160200201516113c283600260200201518460005b60200201519063ffffffff6112e816565b9063ffffffff6112e816565b606082015260026113e0896001611123565b816113e757fe5b06156113f45760006113f7565b60015b60ff16608082015260a0810186905260025b88811161144d576114406114388861142c896113c286600163ffffffff61112316565b9063ffffffff61112316565b8360056113b1565b60a0830152600101611409565b5060a0810151606082015160809092015190945090925090505b9450945094915050565b6001805b8281116114965761148c828263ffffffff6112e816565b9150600101611475565b50919050565b6040518060c00160405280600690602082028038833950919291505056fe506c6561736520646f206e6f742073656e642045544820696e2074686174207363656e6172696fa165627a7a72305820ec1661b7dccec2866eadb7feb5e08300e758255985179b29a2d64f01845743e40029",
  "devdoc": {
    "methods": {
      "checkRole(address,string)": {
        "details": "reverts if addr does not have role",
        "params": {
          "addr": "address",
          "roleName": "the name of the role // reverts"
        }
      },
      "depositDebt(uint256,uint256)": {
        "details": "Mints and deposits debt. Sets corresponding state variables (`stateNumVariables`).",
        "params": {
          "amount": "- the amount of `debtTokens` to be minted and deposited.",
          "commission": "- the commission of deposit which correlates with amount using commissionPercentage rule"
        }
      },
      "depositEquity(uint256,uint256)": {
        "details": "Mints and deposits equity. Sets corresponding state variables (`stateNumVariables`).",
        "params": {
          "amount": "- the amount of `equityTokens` to be minted and deposited.",
          "commission": "- the commission of investment which correlates with amount using commissionPercentage rule"
        }
      },
      "hasRole(address,string)": {
        "details": "determine if addr has role",
        "params": {
          "addr": "address",
          "roleName": "the name of the role"
        },
        "return": "bool"
      }
    }
  }
}