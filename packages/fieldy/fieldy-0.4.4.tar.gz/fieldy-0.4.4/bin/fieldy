#!/usr/bin/env python3

from fieldy import SchemaManager, Encoder
import fieldy, sys, json

scm = SchemaManager(str(fieldy.__file__)[:-11]+'definition/')
enc = Encoder(scm)
str(fieldy.__file__)
scm.load('type')
if sys.argv[1] == 'validate':
  fle = open(sys.argv[2], 'r')
  jstr = fle.read()
  js = json.loads(jstr)
  enc.validate_dict(js, 'type')
  print('Correct format')