\documentclass[preview,varwidth=100in]{standalone}

\usepackage[T1]{fontenc}
\usepackage[no-math]{fontspec}
\usepackage[babel=true,protrusion=true,expansion=true]{microtype}
\usepackage[american]{babel}
\usepackage{cfr-lm}
\usepackage[unicode=true,hidelinks]{hyperref}
\usepackage{xcolor}
\usepackage{tikz}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{acronym}
\usepackage{relsize}
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{mleftright}
\usepackage{bm}
\usepackage{algpseudocode}
\usepackage{subcaption}
\usepackage{pgf}

% Set fonts
\setmainfont{ebgaramond-regular}[Extension=.ttf, Path=resources/, ItalicFont=ebgaramond-italic]
\setmonofont{lmmono-regular}[Extension=.otf, Path=resources/, ItalicFont=lmmono-italic, SmallCapsFont=lmmonocaps-regular]

% Use mleftright
\renewcommand\left\mleft
\renewcommand\right\mright

% Automatically use \left and \right with parentheses
\makeatletter
\def\resetMathstrut@{%
  \setbox\z@\hbox{%
    \mathchardef\@tempa\mathcode`\[\relax
    \mathchardef\@tempc\mathcode`\]\relax
    \def\@tempb##1"##2##3{\the\textfont"##3\char"}%
    \expandafter\@tempb\meaning\@tempa \relax
  }%
  \ht\Mathstrutbox@\ht\z@ \dp\Mathstrutbox@\dp\z@}
\makeatother
\begingroup
  \catcode`(\active \xdef({\left\string(}
  \catcode`)\active \xdef){\right\string)}
\endgroup
\mathcode`(="8000 \mathcode`)="8000

% Configure acronyms
\renewcommand*{\acsfont}[1]{\textsc{\textsmaller{#1}}}

$for(include-before)$$include-before$$endfor$

\begin{document}

$body$

\end{document}
