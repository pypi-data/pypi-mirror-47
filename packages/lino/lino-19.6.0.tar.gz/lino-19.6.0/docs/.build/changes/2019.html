
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Changes 2019 in Lino &#8212; Lino docs 19.6.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/linodocs.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Changes 2018 in Lino" href="2018.html" />
    <link rel="prev" title="Changes in Lino" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  
  <div class="section" id="changes-2019-in-lino">
<span id="lino-changes-2019"></span><h1>Changes 2019 in Lino<a class="headerlink" href="#changes-2019-in-lino" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#id1" id="id50">2019-06-06</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id51">2019-05-25</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id52">2019-05-25</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id53">2019-05-22</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id54">2019-05-10</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id55">2019-05-08</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id56">2019-05-07</a></p></li>
<li><p><a class="reference internal" href="#id8" id="id57">2019-05-06</a></p></li>
<li><p><a class="reference internal" href="#id9" id="id58">2019-05-03</a></p></li>
<li><p><a class="reference internal" href="#id10" id="id59">2019-05-02</a></p></li>
<li><p><a class="reference internal" href="#id11" id="id60">2019-04-30</a></p></li>
<li><p><a class="reference internal" href="#id12" id="id61">2019-04-29</a></p></li>
<li><p><a class="reference internal" href="#id13" id="id62">2019-04-23</a></p></li>
<li><p><a class="reference internal" href="#id14" id="id63">2019-04-15</a></p></li>
<li><p><a class="reference internal" href="#id15" id="id64">2019-04-13</a></p></li>
<li><p><a class="reference internal" href="#id16" id="id65">2019-04-11</a></p></li>
<li><p><a class="reference internal" href="#id17" id="id66">2019-04-10</a></p></li>
<li><p><a class="reference internal" href="#id18" id="id67">2019-04-09</a></p></li>
<li><p><a class="reference internal" href="#id19" id="id68">2019-04-03</a></p></li>
<li><p><a class="reference internal" href="#id20" id="id69">2019-03-29</a></p></li>
<li><p><a class="reference internal" href="#id21" id="id70">2019-03-28</a></p></li>
<li><p><a class="reference internal" href="#id22" id="id71">2019-03-21</a></p></li>
<li><p><a class="reference internal" href="#id23" id="id72">2019-03-20</a></p></li>
<li><p><a class="reference internal" href="#id24" id="id73">2019-03-19</a></p></li>
<li><p><a class="reference internal" href="#id25" id="id74">2019-03-18</a></p></li>
<li><p><a class="reference internal" href="#id26" id="id75">2019-03-15</a></p></li>
<li><p><a class="reference internal" href="#id27" id="id76">2019-03-15</a></p></li>
<li><p><a class="reference internal" href="#id28" id="id77">2019-03-14</a></p></li>
<li><p><a class="reference internal" href="#id29" id="id78">2019-03-13</a></p></li>
<li><p><a class="reference internal" href="#id30" id="id79">2019-03-12</a></p></li>
<li><p><a class="reference internal" href="#id31" id="id80">2019-03-08</a></p></li>
<li><p><a class="reference internal" href="#id32" id="id81">2019-03-06</a></p></li>
<li><p><a class="reference internal" href="#id33" id="id82">2019-03-04</a></p></li>
<li><p><a class="reference internal" href="#id34" id="id83">2019-02-22</a></p></li>
<li><p><a class="reference internal" href="#id35" id="id84">2019-02-17</a></p></li>
<li><p><a class="reference internal" href="#id36" id="id85">2019-02-14</a></p></li>
<li><p><a class="reference internal" href="#id37" id="id86">2019-02-12</a></p></li>
<li><p><a class="reference internal" href="#id38" id="id87">2019-02-11</a></p></li>
<li><p><a class="reference internal" href="#id39" id="id88">2019-02-09</a></p></li>
<li><p><a class="reference internal" href="#id40" id="id89">2019-02-08</a></p></li>
<li><p><a class="reference internal" href="#id41" id="id90">2019-02-05</a></p></li>
<li><p><a class="reference internal" href="#id42" id="id91">2019-02-02</a></p></li>
<li><p><a class="reference internal" href="#id43" id="id92">2019-01-28</a></p></li>
<li><p><a class="reference internal" href="#id44" id="id93">2019-01-24</a></p></li>
<li><p><a class="reference internal" href="#id45" id="id94">2019-01-22</a></p></li>
<li><p><a class="reference internal" href="#id46" id="id95">2019-01-16</a></p></li>
<li><p><a class="reference internal" href="#id47" id="id96">2019-01-10</a></p></li>
<li><p><a class="reference internal" href="#id48" id="id97">2019-01-07</a></p></li>
<li><p><a class="reference internal" href="#id49" id="id98">2019-01-04</a></p></li>
</ul>
</div>
<div class="section" id="id1">
<h2><a class="toc-backref" href="#id50">2019-06-06</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Added a new function <code class="xref py py-func docutils literal notranslate"><span class="pre">lino.modlib.printing.weekdays()</span></code> to the global default print context.</p>
<p>Released Lino 19.6.0 to PyPI.</p>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id51">2019-05-25</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Changed <code class="xref py py-attr docutils literal notranslate"><span class="pre">http_method</span></code> of CreateRow to “POST”</p>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id52">2019-05-25</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>Fixed</p>
</div>
<div class="section" id="id4">
<h2><a class="toc-backref" href="#id53">2019-05-22</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>Fixed <a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/3010">#3010</a> (subclasses of Report are not shown in the dashboard).</p>
</div>
<div class="section" id="id5">
<h2><a class="toc-backref" href="#id54">2019-05-10</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>Released Lino 19.5.1 to PyPI.</p>
</div>
<div class="section" id="id6">
<h2><a class="toc-backref" href="#id55">2019-05-08</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>Translations.</p>
</div>
<div class="section" id="id7">
<h2><a class="toc-backref" href="#id56">2019-05-07</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>Released Lino 19.5.0 to PyPI.</p>
</div>
<div class="section" id="id8">
<h2><a class="toc-backref" href="#id57">2019-05-06</a><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p>weasyprint now logs the template names when rendering a template.</p>
<p>cgi.escape is deprecated in Python 3</p>
</div>
<div class="section" id="id9">
<h2><a class="toc-backref" href="#id58">2019-05-03</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<p>Added <code class="xref py py-attr docutils literal notranslate"><span class="pre">lino.utils.Parametrizable.use_detail_param_panel</span></code> which causes
he params panel to be shown in the detail view.</p>
</div>
<div class="section" id="id10">
<h2><a class="toc-backref" href="#id59">2019-05-02</a><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<p>Lino (<a class="reference external" href="http://www.lino-framework.org/api/lino.mixins.ref.html#lino.mixins.ref.StructuredReferrable" title="(in Lino v19.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lino.mixins.ref.StructuredReferrable</span></code></a>) now handles topics with
an empty reference more elegantly. Use case
<a class="reference external" href="http://www.lino-framework.org/specs/topics.html#lino_xl.lib.topics.Topic" title="(in Lino v19.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lino_xl.lib.topics.Topic</span></code></a> with empty
<a class="reference external" href="http://www.lino-framework.org/specs/topics.html#lino_xl.lib.topics.Topic.ref" title="(in Lino v19.5)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ref</span></code></a> field.</p>
<p>Removed a hack which caused side effects when trying to sort a choicelist with
lazy items). The <a class="reference external" href="http://www.lino-framework.org/api/lino.core.choicelists.html#lino.core.choicelists.ChoiceList.add_item_lazy" title="(in Lino v19.5)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lino.core.choicelists.ChoiceList.add_item_lazy()</span></code></a> method
now specifies <cite>weak=False</cite> for the receiver (as explained in the docs for
<a class="reference external" href="https://docs.djangoproject.com/en/2.2/topics/signals/#django.dispatch.Signal.connect">Signal.connect</a>)
instead of storing the wrapper function itself.</p>
</div>
<div class="section" id="id11">
<h2><a class="toc-backref" href="#id60">2019-04-30</a><a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<p>Undid the change on 2019-04-23 (<a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2975">#2975</a>): Choicelists are sorted by
their natural order of creation.  To sort them by their value, you can now call
<code class="xref py py-meth docutils literal notranslate"><span class="pre">lino.core.choicelists.Choicelist.sort()</span></code>.  This is done for
<a class="reference external" href="http://www.lino-framework.org/specs/ledger.html#lino_xl.lib.ledger.JournalGroups" title="(in Lino v19.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lino_xl.lib.ledger.JournalGroups</span></code></a> by <a class="reference external" href="http://www.lino-framework.org/api/lino_xl.lib.orders.html#module-lino_xl.lib.orders" title="(in Lino v19.5)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lino_xl.lib.orders</span></code></a>, and for
<a class="reference external" href="http://www.lino-framework.org/specs/ledger.html#lino_xl.lib.ledger.CommonAccounts" title="(in Lino v19.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lino_xl.lib.ledger.CommonAccounts</span></code></a> by <a class="reference external" href="http://www.lino-framework.org/api/lino_xl.lib.ledger.html#module-lino_xl.lib.ledger" title="(in Lino v19.5)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lino_xl.lib.ledger</span></code></a>.</p>
</div>
<div class="section" id="id12">
<h2><a class="toc-backref" href="#id61">2019-04-29</a><a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<p>Add use_detail_params_value as a new attribute to the <a class="reference external" href="http://www.lino-framework.org/api/lino.core.dbtables.html#lino.core.dbtables.Table" title="(in Lino v19.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lino.core.dbtables.Table</span></code></a>.</p>
</div>
<div class="section" id="id13">
<h2><a class="toc-backref" href="#id62">2019-04-23</a><a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<p>Choicelists are now always sorted by their value (<a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2975">#2975</a>).  For example
<a class="reference external" href="http://www.lino-framework.org/api/lino_xl.lib.orders.html#module-lino_xl.lib.orders" title="(in Lino v19.5)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lino_xl.lib.orders</span></code></a> adds a journal group “Orders” to
<a class="reference external" href="http://www.lino-framework.org/specs/ledger.html#lino_xl.lib.ledger.JournalGroups" title="(in Lino v19.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lino_xl.lib.ledger.JournalGroups</span></code></a> with value “05” which means that we
want it to comes before the “Sales” group.  The ordering of journal groups
influences the ordering of items of the main menu.</p>
</div>
<div class="section" id="id14">
<h2><a class="toc-backref" href="#id63">2019-04-15</a><a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<p>New method <a class="reference external" href="http://www.lino-framework.org/api/lino.core.requests.html#lino.core.requests.BaseRequest.goto_pk" title="(in Lino v19.5)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">requests.BaseRequest.goto_pk()</span></code></a>.  This required a change in
<a class="reference external" href="http://www.lino-framework.org/ref/javascript.html#xfile-linoweb.js" title="(in Lino v19.5)"><code class="xref std std-xfile docutils literal notranslate"><span class="pre">linoweb.js</span></code></a> where I add a global <code class="xref py py-func docutils literal notranslate"><span class="pre">Lino.goto_record_id()</span></code> function.</p>
<p>Moved <a class="reference external" href="http://www.lino-framework.org/api/lino.core.actors.html#lino.core.actors.Actor.handle_uploaded_files" title="(in Lino v19.5)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">handle_uploaded_files</span></code></a> from
<a class="reference external" href="http://www.lino-framework.org/api/lino.core.dbtables.html#module-lino.core.dbtables" title="(in Lino v19.5)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dbtables</span></code></a> to <a class="reference external" href="http://www.lino-framework.org/api/lino.core.actors.html#module-lino.core.actors" title="(in Lino v19.5)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">actors</span></code></a> because it is also possible on a virtual table
like DailyView.</p>
</div>
<div class="section" id="id15">
<h2><a class="toc-backref" href="#id64">2019-04-13</a><a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2946">#2946</a> Fix calcul of person’s age.</p>
<p>New option <a class="reference external" href="http://www.lino-framework.org/specs/users.html#lino.modlib.users.StartPlan.update_after_start" title="(in Lino v19.5)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lino.modlib.users.StartPlan.update_after_start</span></code></a></p>
</div>
<div class="section" id="id16">
<h2><a class="toc-backref" href="#id65">2019-04-11</a><a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h2>
<p>Released Lino 19.4.0 to PyPI.</p>
</div>
<div class="section" id="id17">
<h2><a class="toc-backref" href="#id66">2019-04-10</a><a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h2>
<p>Fixed a bug in <a class="reference external" href="http://www.lino-framework.org/api/lino.utils.quantities.html#module-lino.utils.quantities" title="(in Lino v19.5)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lino.utils.quantities</span></code></a> which caused <code class="docutils literal notranslate"><span class="pre">1*Duration(&quot;0:15&quot;)</span></code>
to print <code class="docutils literal notranslate"><span class="pre">0.250000000000000000</span></code> instead of <code class="docutils literal notranslate"><span class="pre">0:15</span></code>.</p>
</div>
<div class="section" id="id18">
<h2><a class="toc-backref" href="#id67">2019-04-09</a><a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h2>
<p>In <a class="reference external" href="http://www.lino-framework.org/api/lino.core.site.html#lino.core.site.Site.setup_menu" title="(in Lino v19.5)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lino.core.site.Site.setup_menu()</span></code></a> we now differentiate between the “technical”
plugin order and the order “visible to the end user”.  The end user wants
to see menu entries of explicitly installed plugins before those of
automatically installed plugins.</p>
<p>Lino now supports <strong>choicelist items without a value</strong>. When no value is
specified, the <a class="reference external" href="http://www.lino-framework.org/api/lino.core.choicelists.html#lino.core.choicelists.Choice.value" title="(in Lino v19.5)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">value</span></code></a> (the sequence
number) is set automatically when it is added to the choicelist.  Such choices
should not be stored to the database, otherwise they are like normal
choicelists. <a class="reference external" href="http://www.lino-framework.org/specs/vat.html#lino_xl.lib.vat.VatRules" title="(in Lino v19.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lino_xl.lib.vat.VatRules</span></code></a> is the first usage example.</p>
<p>Lino now supports unbound data checkers. If
<code class="xref py py-attr docutils literal notranslate"><span class="pre">lino.modlib.checkdata.Checker.model</span></code> is <cite>None</cite>, the checker is
unbound, i.e. the problem messages will not be bound to a particular
database object.</p>
<p>Fixed a bug in <a class="reference external" href="http://www.lino-framework.org/api/lino.management.commands.diag.html#management_command-diag" title="(in Lino v19.5)"><code class="xref std std-manage docutils literal notranslate"><span class="pre">diag</span></code></a> : the plugins were listed in a random
arbitrary order.</p>
<p><a class="reference external" href="http://www.lino-framework.org/api/lino.core.plugin.html#lino.core.plugin.Plugin.needed_by" title="(in Lino v19.5)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lino.core.plugin.Plugin.needed_by</span></code></a> is now the immediate parent, not the
top-level parent. The loop to the top is now done only in
<a class="reference external" href="http://www.lino-framework.org/api/lino.core.plugin.html#lino.core.plugin.Plugin.get_menu_group" title="(in Lino v19.5)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lino.core.plugin.Plugin.get_menu_group()</span></code></a>.</p>
</div>
<div class="section" id="id19">
<h2><a class="toc-backref" href="#id68">2019-04-03</a><a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h2>
<p>Fixed <a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2937">#2937</a> (Cannot add Duration and time).
Updated the documentation about the <a class="reference external" href="http://www.lino-framework.org/api/lino.utils.quantities.html#module-lino.utils.quantities" title="(in Lino v19.5)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lino.utils.quantities</span></code></a> module.</p>
</div>
<div class="section" id="id20">
<h2><a class="toc-backref" href="#id69">2019-03-29</a><a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://www.lino-framework.org/api/lino.utils.choosers.html#module-lino.utils.choosers" title="(in Lino v19.5)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lino.utils.choosers</span></code></a> now accepts choosers on char fields
without a display method.
Lino catches edge case of bad extjs code generation. Ticket #2916</p>
</div>
<div class="section" id="id21">
<h2><a class="toc-backref" href="#id70">2019-03-28</a><a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h2>
<p>Added <code class="docutils literal notranslate"><span class="pre">ar</span></code> param for <code class="xref py py-func docutils literal notranslate"><span class="pre">lino.modlib.notify.ChangeNotifier.get_change_observers()</span></code>.
After creating record add elem to <code class="xref py py-attr docutils literal notranslate"><span class="pre">ar.selected_rows</span></code>.</p>
<p>It is now possible to define a choices method for a
<a class="reference external" href="http://www.lino-framework.org/api/lino.core.choicelists.html#lino.core.choicelists.ChoiceListField" title="(in Lino v19.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lino.core.choicelists.ChoiceListField</span></code></a>.</p>
</div>
<div class="section" id="id22">
<h2><a class="toc-backref" href="#id71">2019-03-21</a><a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h2>
<p>Added optional <code class="docutils literal notranslate"><span class="pre">_ar</span></code> keyword param to <a class="reference external" href="http://www.lino-framework.org/api/lino.utils.choosers.html#lino.utils.choosers.chooser" title="(in Lino v19.5)"><code class="xref py py-func docutils literal notranslate"><span class="pre">&#64;dd.chooser</span></code></a> methods, to be able to access current user and
actor info.  Used by the chooser for <a class="reference external" href="http://www.lino-framework.org/specs/noi/tickets.html#lino_noi.lib.tickets.Ticket.site" title="(in Lino v19.5)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lino_noi.lib.tickets.Ticket.site</span></code></a></p>
</div>
<div class="section" id="id23">
<h2><a class="toc-backref" href="#id72">2019-03-20</a><a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h2>
<p>Fixed notification order on dashboard.
Added .dashboard-item class to divs in the dashboard.
Made mark_all_seen action of MyMessages render in dashboard, and not require post-run refresh.</p>
</div>
<div class="section" id="id24">
<h2><a class="toc-backref" href="#id73">2019-03-19</a><a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h2>
<p>Disabled force refresh on update feature when running Lino on Pycharm.
Fixed minor bug when submitting new ticket from dashboard in extjs3</p>
<p>Restore DEL key on the grid.</p>
<p>Released Lino 19.3.1 to PyPI.</p>
</div>
<div class="section" id="id25">
<h2><a class="toc-backref" href="#id74">2019-03-18</a><a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h2>
<p>Added two new methods
<a class="reference external" href="http://www.lino-framework.org/api/lino.core.site.html#lino.core.site.Site.get_plugin_configs" title="(in Lino v19.5)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lino.core.site.Site.get_plugin_configs()</span></code></a> and
<a class="reference external" href="http://www.lino-framework.org/api/lino.core.plugin.html#lino.core.plugin.Plugin.get_required_plugins" title="(in Lino v19.5)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lino.core.plugin.Plugin.get_required_plugins()</span></code></a>.
Feature used by <a class="reference external" href="http://www.lino-framework.org/api/lino_xl.lib.vat.html#module-lino_xl.lib.vat" title="(in Lino v19.5)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lino_xl.lib.vat</span></code></a>.</p>
</div>
<div class="section" id="id26">
<h2><a class="toc-backref" href="#id75">2019-03-15</a><a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h2>
<p>Release Lino 19.3.0</p>
</div>
<div class="section" id="id27">
<h2><a class="toc-backref" href="#id76">2019-03-15</a><a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h2>
<p>Fixed file upload dialog not closing correctly.</p>
</div>
<div class="section" id="id28">
<h2><a class="toc-backref" href="#id77">2019-03-14</a><a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h2>
<p>Added ensure_csrf_cookie decorator to all entry point views in extjs.</p>
</div>
<div class="section" id="id29">
<h2><a class="toc-backref" href="#id78">2019-03-13</a><a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h2>
<p>Added <cite>mobile_server_url</cite> attr to SITE, for use in sending notification emails.
Have MailRenderer generate urls using <cite>actor.model.get_default_table().__name__</cite> rather than <cite>actor.model.__name__</cite>
Means that the url will always point to an actor rather than a model which need to be redirected to an actor.</p>
</div>
<div class="section" id="id30">
<h2><a class="toc-backref" href="#id79">2019-03-12</a><a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h2>
<p>Add a new method <code class="xref py py-meth docutils literal notranslate"><span class="pre">Actor.get_actions_hotkeys()</span></code> to enable hotkeys binding to actions on table.This method should
return a list of hotkeys.</p>
</div>
<div class="section" id="id31">
<h2><a class="toc-backref" href="#id80">2019-03-08</a><a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h2>
<p>Added alert_eval_js responce option, which is a js string that is evaluated
after the alert dialog is closed.</p>
<p>Added Version checking, so that the server alerts the browser when it’s running
an old version of lino.</p>
</div>
<div class="section" id="id32">
<h2><a class="toc-backref" href="#id81">2019-03-06</a><a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h2>
<p>Added CSS classnames to insert, detail, form and actionForm Panel for use in
e2e testing.
Also for classnames for confirmation dialogs and main-menu, and action panel
ok + cancel buttons.</p>
</div>
<div class="section" id="id33">
<h2><a class="toc-backref" href="#id82">2019-03-04</a><a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h2>
<p>Make it possible to the actions_hotkeys of a panel to set the ‘shift’ options.</p>
</div>
<div class="section" id="id34">
<h2><a class="toc-backref" href="#id83">2019-02-22</a><a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h2>
<p>Uploading files under Python 3 caused a server error <code class="docutils literal notranslate"><span class="pre">Exception</span> <span class="pre">Value:</span>
<span class="pre">a</span> <span class="pre">bytes-like</span> <span class="pre">object</span> <span class="pre">is</span> <span class="pre">required,</span> <span class="pre">not</span> <span class="pre">'str'</span></code> (<a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2845">#2845</a>).</p>
<p>Released Lino 19.2.1.</p>
<p>Fixed a bug in which caused a UnicodeEncodeError in
<a class="reference external" href="http://www.lino-framework.org/specs/export_excel.html#lino-specs-export-excel" title="(in Lino v19.5)"><span>export_excel : Exporting to Excel</span></a> on <a class="reference external" href="https://travis-ci.org/lino-framework/book/jobs/497045894#L4665">Travis</a> and
possibly in other situations as well.</p>
<p>Released Lino 19.2.2.</p>
</div>
<div class="section" id="id35">
<h2><a class="toc-backref" href="#id84">2019-02-17</a><a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h2>
<p>Have the renderer return a js string that when eval’d reloads the dashboard,
rather than a hard-coded string.</p>
</div>
<div class="section" id="id36">
<h2><a class="toc-backref" href="#id85">2019-02-14</a><a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h2>
<p>Make the field’s label following FileField visible <a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2830">#2830</a>.</p>
</div>
<div class="section" id="id37">
<h2><a class="toc-backref" href="#id86">2019-02-12</a><a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h2>
<p>Translations for <a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2834">#2834</a>.</p>
</div>
<div class="section" id="id38">
<h2><a class="toc-backref" href="#id87">2019-02-11</a><a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h2>
<p>Added a button “Close and save window” (<a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2816">#2816</a>)</p>
</div>
<div class="section" id="id39">
<h2><a class="toc-backref" href="#id88">2019-02-09</a><a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h2>
<p>Released Lino 19.2.0 to PyPI.</p>
<p>Added two columns volume library_file in UploadsByController</p>
</div>
<div class="section" id="id40">
<h2><a class="toc-backref" href="#id89">2019-02-08</a><a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="http://www.lino-framework.org/api/lino.modlib.uploads.html#module-lino.modlib.uploads" title="(in Lino v19.5)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lino.modlib.uploads</span></code></a> plugin has been extended to support
<a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2826">#2826</a>. Until now an <a class="reference external" href="http://www.lino-framework.org/specs/uploads.html#lino.modlib.uploads.Upload" title="(in Lino v19.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Upload</span></code></a> could represent either an uploaded
file (the original meaning) or just an entry representing some external
document to be monitored by its author, without any uploaded file. With
<a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2826">#2826</a> we add a third possibility a “library file”, i.e. a file that
has been stored on some volume using some other method than uploading.</p>
<p>Concretely:</p>
<ul>
<li><p>Added a new model <code class="xref py py-class docutils literal notranslate"><span class="pre">Volume</span></code></p></li>
<li><p>Added two fields <code class="xref py py-attr docutils literal notranslate"><span class="pre">volume</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">library_file</span></code> to the
<a class="reference external" href="http://www.lino-framework.org/specs/uploads.html#lino.modlib.uploads.Upload" title="(in Lino v19.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Upload</span></code></a> model.</p></li>
<li><p>The insert_layout of <code class="xref py py-class docutils literal notranslate"><span class="pre">UploadsByControler</span></code> does <em>not</em> include the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">volume</span></code>, but instead the controller (owner) decides which volume is to
be used.</p>
<p>IOW a new method <code class="xref py py-meth docutils literal notranslate"><span class="pre">UploadController.get_uploads_volume()</span></code>.  The field
should be hidden or at least readonly when the owner says that there is no
volume.</p>
</li>
</ul>
</div>
<div class="section" id="id41">
<h2><a class="toc-backref" href="#id90">2019-02-05</a><a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h2>
<p>Fixed <a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2822">#2822</a> (Cannot create new user ‘NoneType’ object has no attribute ‘full_value_from_object’)</p>
<p>Fixed ActionFormPanel logic to use action.html_method.</p>
<p>Changed sign_in action to use POST as html_method.</p>
</div>
<div class="section" id="id42">
<h2><a class="toc-backref" href="#id91">2019-02-02</a><a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h2>
<p>Field values for actons with paramiers no long need to be an array with a key of ‘fv’.
They now can be included in the root of the data object with the field name as the key.</p>
</div>
<div class="section" id="id43">
<h2><a class="toc-backref" href="#id92">2019-01-28</a><a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h2>
<p>We fixed the <a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2782">#2782</a> (Dashboard in Jane is slower than before).
Store has a new attribute <cite>_disabled_fields_storefield</cite>.</p>
</div>
<div class="section" id="id44">
<h2><a class="toc-backref" href="#id93">2019-01-24</a><a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h2>
<p>Changed the verbose name for <a class="reference external" href="http://www.lino-framework.org/specs/printing.html#lino.modlib.printing.BuildMethods" title="(in Lino v19.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lino.modlib.printing.BuildMethods</span></code></a> from
“Build method” to “Print method”.</p>
</div>
<div class="section" id="id45">
<h2><a class="toc-backref" href="#id94">2019-01-22</a><a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h2>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">lino.sphinxcontrib.help_text_extractor</span></code> caused a Sphinx warning
<code class="docutils literal notranslate"><span class="pre">RemovedInSphinx20Warning:</span> <span class="pre">app.info()</span> <span class="pre">is</span> <span class="pre">now</span> <span class="pre">deprecated.</span> <span class="pre">Use</span>
<span class="pre">sphinx.util.logging</span> <span class="pre">instead.</span></code> (fixed)</p>
<p>Added intersphinx_urls, srcref_url and doc_trees settings to the main module so
that other doctrees can link to the docs.</p>
</div>
<div class="section" id="id46">
<h2><a class="toc-backref" href="#id95">2019-01-16</a><a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h2>
<p>I fixed <a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2785">#2785</a> (Django 2.1.5 under Py3 restore.py fails saying
disable_constraint_checking).
For the test <a class="reference external" href="http://www.lino-framework.org/api/lino.utils.djangotest.html#lino.utils.djangotest.RestoreTestCase" title="(in Lino v19.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lino.utils.djangotest.RestoreTestCase</span></code></a>, we need to make
sure that foreign_keys is set to OFF before we actually start the restore.</p>
</div>
<div class="section" id="id47">
<h2><a class="toc-backref" href="#id96">2019-01-10</a><a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h2>
<p>I fixed <a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2784">#2784</a> (Some actions are duplicated).  The show action of
<code class="xref py py-class docutils literal notranslate"><span class="pre">lino_welfare.modlib.integ.ActivityReport</span></code> was duplicated in
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Actor._actions_list</span></code> but nobody ever complained because it was not
visible. But since I wrote a test case in <a class="reference external" href="http://welfare.lino-framework.org/specs/welcht/integ.html#welfare-specs-integ" title="(in Lino Welfare project home)"><span>Integration Service</span></a> which
verifies that the ticket is fixed, I must now do a release on PyPI to get the
test suite on <a class="reference external" href="http://www.lino-framework.org/dev/testing.html#travis" title="(in Lino v19.5)"><span>Travis CI</span></a> passing again.</p>
</div>
<div class="section" id="id48">
<h2><a class="toc-backref" href="#id97">2019-01-07</a><a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h2>
<p>We released Lino 19.1.2</p>
<p>Immediately after the release we discovered a bug in Lino 19.1.2 which caused a
missing <img alt="insert" src="https://github.com/lino-framework/lino/blob/master/lino/static/images/mjames/add.png?raw=true" /> button in a critical place in Tera.  So we did a quick bugfix
release 19.1.3.</p>
</div>
<div class="section" id="id49">
<h2><a class="toc-backref" href="#id98">2019-01-04</a><a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h2>
<p>We released Lino 19.1.0</p>
<p>New <a class="reference external" href="http://www.lino-framework.org/api/lino.core.fields.html#lino.core.fields.TableRow" title="(in Lino v19.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lino.core.fields.TableRow</span></code></a>.</p>
<p>The message “Form fields may not be submitted with invalid values” says now
“Please check all fields of this form before submitting.”
(<a class="reference external" href="http://www.lino-framework.org/ref/javascript.html#xfile-linoweb.js" title="(in Lino v19.5)"><code class="xref std std-xfile docutils literal notranslate"><span class="pre">linoweb.js</span></code></a>)</p>
</div>
</div>



          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo_web3.png" alt="Logo"/>
            </a></p>
<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Changes in Lino</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lino-framework/lino" target="_blank">GitHub</a>
<a href="http://pypi.python.org/pypi/lino" target="_blank">pypi</a>

</p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright 2014-2019 Rumma &amp; Ko Ltd.
      Last updated on Jun 06, 2019.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 2.1.0.    
    <a href="https://raw.github.com/lino-framework/lino/master/docs/changes/2019.rst"
           rel="nofollow">Show Source</a>.
    <a href="http://docs.lino-framework.org/changes/2019.html">Online Link</a>.
    </div>
  </body>
</html>