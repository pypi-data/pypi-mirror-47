title: pulp2-repository

description: >-
  Schema for a Pulp 2.x repository dict, as returned by the
  /pulp/api/v2/repositories/<repo_id>/ API.

$schema: http://json-schema.org/draft-07/schema#

definitions:
  # A repository distributor (yum_distributor, iso_distributor...)
  distributor:
    type: object
    properties:
      id:
        # String ID of distributor, e.g. "yum_distributor"
        type: string
      distributor_type_id:
        # String ID of distributor's type, e.g. "yum_distributor"
        type: string
    required:
    - id
    - distributor_type_id

type: object

properties:

  # ID of the repo, e.g. "my-repo", "zoo".
  # Note this is different from _id, which is the mongo document ID.
  id:
    type: string

  # Repository notes.
  # This is a dict where any keys/values may be stored.
  notes:
    type: object

    properties:

      # An ISO8601 timestamp for creation of this repo.
      # Note that this field is not set by Pulp itself.  Only certain tools
      # are expected to initialize this field when creating a repo.
      created:
        type: string
        # example: 2019-06-05T11:56:50Z
        pattern: "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z"

  # List of repository distributors.
  # Note that order matters in this list.
  distributors:
    type: array
    items:
      $ref: "#/definitions/distributor"

required:
- id
