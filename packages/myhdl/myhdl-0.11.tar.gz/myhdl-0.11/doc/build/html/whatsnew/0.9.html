
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>What’s new in MyHDL 0.9 &#8212; MyHDL 0.10 documentation</title>
    <link rel="stylesheet" href="../_static/myhdl.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="What’s new in MyHDL 0.8" href="0.8.html" />
    <link rel="prev" title="Python 3 Support" href="../python3.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
<div style="background-color: white; text-align: left; padding: 5px 5px 2px 15px">
<a href="http://www.myhdl.org">
    <img src="../_static/myhdl_logo_header.png" border=0 alt="MyHDL" />
</a>
</div>



      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">MyHDL</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../manual/index.html">The MyHDL manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.10.html">What’s new in MyHDL 0.10</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python3.html">Python 3 Support</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">What’s new in MyHDL 0.9</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.8.html">What’s new in MyHDL 0.8</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.7.html">What’s new in MyHDL 0.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.6.html">What’s new in MyHDL 0.6</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.5.html">What’s new in MyHDL 0.5</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.4.html">What’s new in MyHDL&nbsp;0.4: Conversion to Verilog</a></li>
<li class="toctree-l1"><a class="reference internal" href="0.3.html">What’s New in MyHDL&nbsp;0.3</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../python3.html" title="previous chapter">Python 3 Support</a></li>
      <li>Next: <a href="0.8.html" title="next chapter">What’s new in MyHDL 0.8</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="what-s-new-in-myhdl-0-9">
<span id="new09"></span><h1>What’s new in MyHDL 0.9<a class="headerlink" href="#what-s-new-in-myhdl-0-9" title="Permalink to this headline">¶</a></h1>
<div class="section" id="python-3-support">
<h2>Python 3 support<a class="headerlink" href="#python-3-support" title="Permalink to this headline">¶</a></h2>
<p>Experimental Python 3 support has been added to MyHDL 0.9.
This was a major effort to modernize the code. As a result,
Python 2 and 3 are supported from a single codebase.</p>
<p>See <a class="reference internal" href="../python3.html"><span class="doc">Python 3 Support</span></a> for more info.</p>
</div>
<div class="section" id="interfaces-conversion-of-attribute-accesses">
<h2>Interfaces (Conversion of attribute accesses)<a class="headerlink" href="#interfaces-conversion-of-attribute-accesses" title="Permalink to this headline">¶</a></h2>
<div class="section" id="rationale">
<h3>Rationale<a class="headerlink" href="#rationale" title="Permalink to this headline">¶</a></h3>
<p>Complex designs often have many signals that are passed to different levels of
hierarchy.  Typically, many signals logically belong together. This can be
modelled by an <em>interface</em>: an object that has a number of <a class="reference internal" href="../manual/reference.html#myhdl.Signal" title="myhdl.Signal"><code class="xref py py-class docutils literal notranslate"><span class="pre">Signal</span></code></a>
objects as its attributes.  Grouping signals into an interface simplifies the
code, improves efficiency, and reduces errors.</p>
<p>The following is an example of an <em>interface</em> definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Complex</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">min</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">real</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="n">intbv</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="nb">max</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imag</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="n">intbv</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="nb">max</span><span class="p">))</span>
</pre></div>
</div>
<p>Although previous versions supported interfaces for modeling, they were not
convertible.  MyHDL 0.9 now supports conversion of designs that use interfaces.</p>
<p>The following is an example using the above <code class="docutils literal notranslate"><span class="pre">Complex</span></code> interface definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">Complex</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span> <span class="n">Complex</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Complex</span><span class="p">(</span><span class="o">-</span><span class="mi">128</span><span class="p">,</span><span class="mi">128</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">complex_multiply</span><span class="p">(</span><span class="n">clock</span><span class="p">,</span> <span class="n">reset</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>

    <span class="nd">@always_seq</span><span class="p">(</span><span class="n">clock</span><span class="o">.</span><span class="n">posedge</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="n">reset</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">cmult</span><span class="p">():</span>
        <span class="n">c</span><span class="o">.</span><span class="n">real</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">real</span><span class="o">*</span><span class="n">b</span><span class="o">.</span><span class="n">real</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">imag</span><span class="o">*</span><span class="n">b</span><span class="o">.</span><span class="n">imag</span><span class="p">)</span>
        <span class="n">c</span><span class="o">.</span><span class="n">imag</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">real</span><span class="o">*</span><span class="n">b</span><span class="o">.</span><span class="n">imag</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">imag</span><span class="o">*</span><span class="n">b</span><span class="o">.</span><span class="n">real</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">cmult</span>
</pre></div>
</div>
</div>
<div class="section" id="solution">
<h3>Solution<a class="headerlink" href="#solution" title="Permalink to this headline">¶</a></h3>
<p>The proposed solution is to create unique names for attributes which are used
by <a class="reference external" href="http://docs.myhdl.org/en/latest/manual/reference.html#myhdl-generators-and-trigger-objects">MyHDL generator</a>s.  The converter will create a unique name by using the
name of the parent and the name of the attribute along with the name of the
MyHDL module instance. The converter will essentially replace the “.” with an
“_” for each interface element. In essence, interfaces are supported
using hierarchical name expansion and name mangling.</p>
<p>Note that the MyHDL converter supports interfaces, even though
the target HDLs do not. This is another great example where the
converter supports a high-level feature that is not available
in the target HDLs.</p>
</div>
<div class="section" id="see-also">
<h3>See also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h3>
<p>For additional information see the original proposal <a class="reference external" href="http://dev.myhdl.org/meps/mep-107.html">mep-107</a>.</p>
</div>
</div>
<div class="section" id="other-noteworthy-improvements">
<h2>Other noteworthy improvements<a class="headerlink" href="#other-noteworthy-improvements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="concatsignal-interface">
<h3><code class="docutils literal notranslate"><span class="pre">ConcatSignal</span></code> interface<a class="headerlink" href="#concatsignal-interface" title="Permalink to this headline">¶</a></h3>
<p>The interface of <a class="reference internal" href="../manual/reference.html#myhdl.ConcatSignal" title="myhdl.ConcatSignal"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConcatSignal</span></code></a> was enhanced. In
addition to signals, you can now also use constant values
in the concatenation.</p>
</div>
<div class="section" id="std-logic-type-ports">
<h3><code class="docutils literal notranslate"><span class="pre">std_logic</span></code> type ports<a class="headerlink" href="#std-logic-type-ports" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../manual/reference.html#myhdl.toVHDL" title="myhdl.toVHDL"><code class="xref py py-func docutils literal notranslate"><span class="pre">toVHDL</span></code></a> has a new attribute <code class="docutils literal notranslate"><span class="pre">std_logic_ports</span></code>. When
set, only <code class="docutils literal notranslate"><span class="pre">std_logic</span></code> type ports are used in the interface
of the top-level VHDL module.</p>
</div>
<div class="section" id="development-flow">
<h3>Development flow<a class="headerlink" href="#development-flow" title="Permalink to this headline">¶</a></h3>
<p>The MyHDL development flow has been modernized by moving to git and <a class="reference external" href="https://www.github.com/jandecaluwe/myhdl">github</a>
for version control. In addition, travis has set up so that all pull requests
are tested automatically, enabling continuous intergration.</p>
</div>
</div>
<div class="section" id="acknowledgments">
<h2>Acknowledgments<a class="headerlink" href="#acknowledgments" title="Permalink to this headline">¶</a></h2>
<p>The Python 3 support effort was coordinated by Keerthan Jaic, who also
implemented most of if. Convertible interfaces were championed by Chris Felton,
and implemented by Keerthan Jaic.</p>
<p>MyHDL development is a collaborative effort, as can be seen on <a class="reference external" href="https://www.github.com/jandecaluwe/myhdl">github</a>.
Thanks to all who contributed with suggestions, issues and pull requests.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Jan Decaluwe.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/whatsnew/0.9.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>