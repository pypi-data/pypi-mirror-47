(function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)i=s[d],o[i]&&p.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"46f7":function(e,t,n){"use strict";var r=n("54e1"),o=n.n(r);o.a},"54e1":function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),o=(n("da64"),n("bb71")),a=n("3ccf");r["a"].use(o["a"],{iconfont:"mdi",directives:{Ripple:a["a"]}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-toolbar",{attrs:{app:""}},[n("v-toolbar-title",{staticClass:"headline"},[n("v-icon",{staticClass:"mb-0 mr-1"},[e._v("mdi-cloud")]),n("span",[e._v("Cloud")]),n("span",{staticClass:"font-weight-light"},[e._v("Break")])],1),n("v-spacer"),n("span",{staticClass:"mr-2"},[n("v-icon",{staticClass:"arrow"},[e._v("mdi-arrow-down")]),e._v("\n      "+e._s(e.download)+"/s\n    ")],1),n("span",[n("v-icon",{staticClass:"arrow"},[e._v("mdi-arrow-up")]),e._v("\n      "+e._s(e.upload)+"/s\n    ")],1)],1),n("v-content",[n("router-view")],1)],1)},s=[],c=n("d225"),l=n("b0b4"),u=n("308d"),d=n("6bb5"),p=n("4e2b"),f=n("9ab4"),v=n("60a3"),h=n("49d5"),b=n.n(h),m=function(e){function t(){return Object(c["a"])(this,t),Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"mounted",value:function(){this.$store.dispatch("getSessionStatus")}},{key:"upload",get:function(){return b()(this.$store.getters.upload)}},{key:"download",get:function(){return b()(this.$store.getters.download)}}]),t}(v["d"]);m=f["a"]([v["a"]],m);var g=m,y=g,k=n("2877"),w=n("6544"),x=n.n(w),T=n("7496"),_=n("549c"),O=n("132d"),j=n("9910"),C=n("71d9"),V=n("2a7f"),S=Object(k["a"])(y,i,s,!1,null,null,null),R=S.exports;x()(S,{VApp:T["a"],VContent:_["a"],VIcon:O["a"],VSpacer:j["a"],VToolbar:C["a"],VToolbarTitle:V["a"]});var $=n("8c4f"),P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:"",height:"100%"}},[n("v-list",{attrs:{"three-line":""}},[e._l(e.torrents,function(t){return[n("Torrent",{key:t.name,attrs:{torrent:t},on:{contextmenu:function(t){return t.preventDefault(),e.onTorrentRightClick(t)}}})]})],2),n("v-speed-dial",{attrs:{fixed:"",bottom:"",right:"",direction:"top"},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-btn",{attrs:{color:"blue darken-2",dark:"",fab:""},model:{value:e.fab,callback:function(t){e.fab=t},expression:"fab"}},[n("v-icon",[e._v("mdi-plus")]),n("v-icon",[e._v("mdi-close")])],1)]},proxy:!0}]),model:{value:e.fab,callback:function(t){e.fab=t},expression:"fab"}},[n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"green"},on:{click:function(t){e.uploadDialog=!0}}},[n("v-icon",[e._v("mdi-paperclip")])],1),n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"red"},on:{click:function(t){e.urlDialog=!0}}},[n("v-icon",[e._v("mdi-magnet")])],1)],1),n("TorrentUpload",{on:{submit:e.uploadTorrent},model:{value:e.uploadDialog,callback:function(t){e.uploadDialog=t},expression:"uploadDialog"}}),n("URLUpload",{on:{submit:e.uploadTorrent},model:{value:e.urlDialog,callback:function(t){e.urlDialog=t},expression:"urlDialog"}})],1)},D=[],M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{contextmenu:function(t){return t.preventDefault(),e.onRightClick(t)}}},[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.hover;return n("v-list-tile",{staticClass:"torrent",class:"elevation-"+(r?4:0),attrs:{avatar:""}},[n("v-list-tile-action",[n("v-icon",{attrs:{color:e.colour}},[e._v("mdi-"+e._s(e.icon))])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(e.torrent.name)+" "),n("span",{staticStyle:{float:"right"}},[e._v(e._s(e.torrent.state))])]),n("v-progress-linear",{attrs:{color:e.colour},model:{value:e.torrent.progress,callback:function(t){e.$set(e.torrent,"progress",t)},expression:"torrent.progress"}}),n("v-list-tile-sub-title",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{md2:""}},[e._v(e._s(e.torrent.progress.toFixed(2))+"% ("+e._s(e.progressSize)+")")]),n("v-flex",{attrs:{xs2:""}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(e.download_rate)+"/s "),n("v-icon",{staticClass:"arrow"},[e._v("mdi-arrow-down")])],1),n("span",{staticStyle:{float:"right"}},[e._v(e._s(e.upload_rate)+"/s "),n("v-icon",{staticClass:"arrow"},[e._v("mdi-arrow-up")])],1)])],1)],1)],1),n("v-list-tile-action",[n("v-btn",{attrs:{flat:"",icon:""},on:{click:e.toggleState}},[n("v-icon",[e._v("mdi-"+e._s(e.torrent.paused?"play":"pause"))])],1)],1)],1)}}])}),n("v-menu",{attrs:{"position-x":e.contextMenu.x,"position-y":e.contextMenu.y},model:{value:e.contextMenu.enabled,callback:function(t){e.$set(e.contextMenu,"enabled",t)},expression:"contextMenu.enabled"}},[n("v-list",e._l(e.menuItems.filter(function(e){return e.enabled}),function(t,r){return n("v-list-tile",{key:r,on:{click:function(e){return t.click.apply(t,t.args)}}},[n("v-list-tile-title",[e._v(e._s(t.title))])],1)}),1)],1)],1)},I=[],L=(n("7f7f"),n("96cf"),n("3b8d")),E=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.icon="pause-circle",e.colour="grey",e.menuItems=[{title:"Pause Torrent",click:e.toggleState,enabled:!0},{title:"Remove Torrent",click:e.removeTorrent,enabled:!0,args:[!1]},{title:"Remove Torrent and Data",click:e.removeTorrent,enabled:!0,args:[!0]}],e.contextMenu={enabled:!1,x:0,y:0},e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"mounted",value:function(){this.setupColourAndIcon(),this.onTorrentPauseChange(this.torrent.paused)}},{key:"setupColourAndIcon",value:function(){switch(this.torrent.state){case"Queued":this.icon="",this.colour="grey darken-2";break;case"Paused":this.icon="pause-circle",this.colour="grey";break;case"Finished":this.icon="check-circle",this.colour="green";break;case"Downloading":this.icon="download",this.colour="blue";break;case"Error":this.icon="alert",this.colour="red";break}}},{key:"onTorrentPauseChange",value:function(e){this.menuItems[0].title=e?"Resume Torrent":"Pause Torrent"}},{key:"toggleState",value:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.torrent.paused?this.$store.dispatch("resumeTorrent",this.torrent.hash):this.$store.dispatch("pauseTorrent",this.torrent.hash);case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"onRightClick",value:function(e){this.contextMenu.x=e.clientX,this.contextMenu.y=e.clientY,this.contextMenu.enabled=!0}},{key:"removeTorrent",value:function(e){this.$store.dispatch("removeTorrent",{torrent:this.torrent.hash,data:e})}},{key:"title",get:function(){return this.torrent.name}},{key:"upload_rate",get:function(){return b()(this.torrent.upload_payload_rate)}},{key:"download_rate",get:function(){return b()(this.torrent.download_payload_rate)}},{key:"progressSize",get:function(){return"".concat(b()(this.torrent.total_done),"/").concat(b()(this.torrent.total_wanted))}}]),t}(v["d"]);f["a"]([Object(v["c"])(Object)],E.prototype,"torrent",void 0),f["a"]([Object(v["e"])("torrent.state")],E.prototype,"setupColourAndIcon",null),f["a"]([Object(v["e"])("torrent.paused")],E.prototype,"onTorrentPauseChange",null),E=f["a"]([v["a"]],E);var U=E,A=U,F=(n("46f7"),n("8336")),B=n("0e8f"),q=n("ce87"),N=n("a722"),J=n("8860"),z=n("ba95"),G=n("40fe"),H=n("5d23"),Q=n("e449"),X=n("8e36"),Y=Object(k["a"])(A,M,I,!1,null,null,null),K=Y.exports;x()(Y,{VBtn:F["a"],VFlex:B["a"],VHover:q["a"],VIcon:O["a"],VLayout:N["a"],VList:J["a"],VListTile:z["a"],VListTileAction:G["a"],VListTileContent:H["a"],VListTileSubTitle:H["b"],VListTileTitle:H["c"],VMenu:Q["a"],VProgressLinear:X["a"]});var W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.model,"max-width":"600px"},on:{input:function(t){return e.$emit("input",t)}}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Upload Torrent")]),n("v-card-text",[n("v-text-field",{attrs:{label:"Select Torrent","prepend-icon":"mdi-paperclip"},on:{click:e.pickFile},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}}),n("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/x-bittorrent"},on:{change:e.onFilePicked}})],1),n("v-card-actions",[n("v-btn",{attrs:{flat:""},on:{click:function(t){return e.$emit("input",!1)}}},[e._v("Cancel")]),n("v-spacer"),n("v-btn",{attrs:{flat:"",disabled:!e.ready},on:{click:e.submit}},[e._v("Upload")])],1)],1)],1)},Z=[],ee=(n("28a5"),function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.filename="",e.file="",e.ready=!1,e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"onModelChange",value:function(e){this.filename="",this.file="",this.ready=!1,this.file&&this.$refs.uploadButton.clear()}},{key:"pickFile",value:function(){this.$refs.file.click()}},{key:"onFilePicked",value:function(e){var t=this;if(e.target.files){var n=e.target.files[0];if(!n)return;this.filename=n.name;var r=new FileReader;r.readAsDataURL(n),r.onload=function(){t.file=r.result.split(",")[1],t.ready=!0},r.onerror=function(e){alert("There was an error uploading the file: "+e)}}}},{key:"submit",value:function(){this.$emit("submit",{file:this.file,filename:this.filename})}}]),t}(v["d"]));f["a"]([Object(v["b"])("input",{type:Boolean})],ee.prototype,"model",void 0),f["a"]([Object(v["e"])("model")],ee.prototype,"onModelChange",null),ee=f["a"]([v["a"]],ee);var te=ee,ne=te,re=n("b0af"),oe=n("99d9"),ae=n("12b2"),ie=n("169a"),se=n("2677"),ce=Object(k["a"])(ne,W,Z,!1,null,null,null),le=ce.exports;x()(ce,{VBtn:F["a"],VCard:re["a"],VCardActions:oe["a"],VCardText:oe["b"],VCardTitle:ae["a"],VDialog:ie["a"],VSpacer:j["a"],VTextField:se["a"]});var ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.model,"max-width":"600px"},on:{input:function(t){return e.$emit("input",t)}}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Add Torrent URL")]),n("v-card-text",[n("v-text-field",{attrs:{label:"URL"},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1),n("v-card-actions",[n("v-btn",{attrs:{flat:""},on:{click:function(t){return e.$emit("input",!1)}}},[e._v("Cancel")]),n("v-spacer"),n("v-btn",{attrs:{flat:""},on:{click:e.submit}},[e._v("Submit")])],1)],1)],1)},de=[],pe=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.url="",e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"onModelChange",value:function(e){this.url=""}},{key:"submit",value:function(){this.$emit("submit",{url:this.url})}}]),t}(v["d"]);f["a"]([Object(v["b"])("input",{type:Boolean})],pe.prototype,"model",void 0),f["a"]([Object(v["e"])("model")],pe.prototype,"onModelChange",null),pe=f["a"]([v["a"]],pe);var fe=pe,ve=fe,he=Object(k["a"])(ve,ue,de,!1,null,null,null),be=he.exports;x()(he,{VBtn:F["a"],VCard:re["a"],VCardActions:oe["a"],VCardText:oe["b"],VCardTitle:ae["a"],VDialog:ie["a"],VSpacer:j["a"],VTextField:se["a"]});var me=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.fab=!1,e.uploadDialog=!1,e.urlDialog=!1,e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"mounted",value:function(){this.$store.dispatch("getTorrents")}},{key:"uploadTorrent",value:function(e){this.uploadDialog=!1,this.urlDialog=!1,this.$store.dispatch("uploadTorrent",e)}},{key:"torrents",get:function(){return this.$store.getters.torrents}}]),t}(v["d"]);me=f["a"]([Object(v["a"])({components:{Torrent:K,TorrentUpload:le,URLUpload:be}})],me);var ge=me,ye=ge,ke=n("a523"),we=n("c73b"),xe=Object(k["a"])(ye,P,D,!1,null,null,null),Te=xe.exports;x()(xe,{VBtn:F["a"],VContainer:ke["a"],VIcon:O["a"],VList:J["a"],VSpeedDial:we["a"]}),r["a"].use($["a"]);var _e=new $["a"]({mode:"history",routes:[{path:"/",name:"home",component:Te}]}),Oe=(n("6b54"),n("6762"),n("2fdb"),n("55dd"),n("ac6a"),n("456d"),n("2f62")),je={apiUrl:window.location+"api/"};function Ce(e){return Ve.apply(this,arguments)}function Ve(){return Ve=Object(L["a"])(regeneratorRuntime.mark(function e(t){var n,r,o,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"GET",r=a.length>2&&void 0!==a[2]?a[2]:{},o=new URL(je.apiUrl+t),["DELETE","GET"].includes(n)&&Object.keys(r).forEach(function(e){return o.searchParams.append(e,r[e])}),e.next=6,fetch(o.toString(),{method:n,body:["POST","PATCH","PUT"].includes(n)?JSON.stringify(r):void 0,headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)})),Ve.apply(this,arguments)}r["a"].use(Oe["a"]);var Se=new Oe["a"].Store({state:{torrents:[],connected:!1,pollerId:null,sessionPollerId:null,session:{}},mutations:{setTorrents:function(e,t){e.torrents=t},setConnected:function(e,t){e.connected=t},setSessionState:function(e,t){e.session=t}},actions:{getTorrents:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t){var n,r,o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,r=t.commit,o=t.dispatch,e.prev=1,e.next=4,Ce("torrents");case 4:a=e.sent,a&&(a=Object.keys(a).map(function(e){return a[e]}),r("setTorrents",a),n.connected=!0),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),n.connected=!1;case 11:n.pollerId&&clearTimeout(n.pollerId),n.pollerId=setTimeout(function(){return o("getTorrents")},1e3);case 13:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t){return e.apply(this,arguments)}return t}(),getSessionStatus:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t){var n,r,o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,r=t.commit,o=t.dispatch,e.prev=1,e.next=4,Ce("session");case 4:a=e.sent,a&&(r("setSessionState",a),n.connected=!0),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),n.connected=!1;case 11:n.sessionPollerId&&clearTimeout(n.sessionPollerId),n.sessionPollerId=setTimeout(function(){return o("getSessionStatus")},1e3);case 13:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t){return e.apply(this,arguments)}return t}(),pauseTorrent:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.dispatch,e.next=3,Ce("torrents/".concat(n,"/pause"));case 3:r("getTorrents");case 4:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),resumeTorrent:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.dispatch,e.next=3,Ce("torrents/".concat(n,"/resume"));case 3:r("getTorrents");case 4:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),uploadTorrent:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.dispatch,e.next=3,Ce("torrents","POST",n);case 3:r("getTorrents");case 4:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),removeTorrent:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,r=n.torrent,o=!!n.data,e.next=5,Ce("torrents/".concat(r),"DELETE",{data:o});case 5:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()},getters:{torrents:function(e){return e.torrents.sort(function(e,t){return(e.queue>=0?e.queue:1/0)>(t.queue>=0?t.queue:1/0)?1:-1})},download:function(e){return e.session.download_rate||0},upload:function(e){return e.session.upload_rate||0}}}),Re=n("9483");Object(Re["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),r["a"].config.productionTip=!1,new r["a"]({router:_e,store:Se,render:function(e){return e(R)}}).$mount("#app")}});
//# sourceMappingURL=app.a0090968.js.map