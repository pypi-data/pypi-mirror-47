(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{2181:function(e,t,a){},2218:function(e,t,a){"use strict";a.r(t);var n=a(63),r=a(9),i=a(10),s=a(16),o=a(15),u=a(17),d=a(0),h=a.n(d),c=a(50),g=a(48),w=a(2182),f=a.n(w),v=a(2180),l=a.n(v),p=(a(2181),{DATAFRAME_INDEX:"(index)"}),b=new Set(["datetimeIndex","float_64Index","int_64Index","rangeIndex","timedeltaIndex","uint_64Index"]);function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e.get("data"))return[];if(!e.get("index"))return[];if(!e.get("columns"))return[];for(var a=[],r=Object(g.j)(e.get("data")),i=Object(n.a)(r,2),s=i[0],o=i[1],u=e.get("index").get("type"),d=b.has(u),h=t;h<s;h++){var c={};d&&(c[p.DATAFRAME_INDEX]=Object(g.g)(e.get("index"),0,h));for(var w=0;w<o;w++)c[Object(g.g)(e.get("columns"),0,w)]=Object(g.i)(e.get("data"),w,h);a.push(c)}return a}var V=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).vegaView=null,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"safeRender",value:function(){var e=this.props.element,t=JSON.parse(e.get("spec"));!function(e){if(e.autosize)return;e.autosize={type:"fit",contains:"padding",resize:!0}}(t);var a=function(e){var t=e.get("data");if(!t)return null;return{values:j(t)}}(e),n=function(e,t){if(!e.get("datasets")||e.get("datasets").isEmpty())return null;var a={};return e.get("datasets").forEach(function(e,t){e&&(a[e.get("name")]=j(e.get("data")))}),a}(e);if(n){if(!t.data)throw new Error('Must specify "data" field when using "dataset"');t.datasets=n}var r=null==t.height?200:t.height,i=null==t.width?this.props.width:t.width;return h.a.createElement(f.a,{className:"stVegaLiteChart",spec:t,data:a,renderer:"canvas",width:i,height:r,onNewView:this._onNewView.bind(this)})}},{key:"shouldComponentUpdate",value:function(e,t){var a=this.props.element.get("data"),r=e.element.get("data");if(!a||!r)return!0;if(!a.get("data")||!r.get("data"))return!0;var i=Object(g.j)(a.get("data")),s=Object(n.a)(i,2),o=s[0],u=s[1],d=Object(g.j)(r.get("data")),h=Object(n.a)(d,2),c=h[0],w=h[1],f=a!==r,v=this.props.element.get("spec")!==e.element.get("spec"),l=this.props.width!==e.width;return!(!v&&!l)||!!f&&(!(u===w&&o<=c&&a[0]===r[0]&&a[o-1]===r[o-1]&&o<c)||(this.addRows(r,o),!1))}},{key:"addRows",value:function(e,t){if(!this.vegaView)throw new Error("Chart has not been drawn yet");var a=j(e,t);this.vegaView.insert("data_0",a),this.vegaView.run()}},{key:"toCanvas",value:function(e){if(!this.vegaView)throw new Error("Chart has not been drawn yet");return this.vegaView.toCanvas(e)}},{key:"toSVG",value:function(e){if(!this.vegaView)throw new Error("Chart has not been drawn yet");return this.vegaView.toSVG(e)}},{key:"toImageUrl",value:function(e,t){if(!this.vegaView)throw new Error("Chart has not been drawn yet");return this.vegaView.toImageUrl(e,t)}},{key:"_onNewView",value:function(e){this.vegaView=e,l()(e)}}]),t}(c.b);a.d(t,"default",function(){return V})}}]);
//# sourceMappingURL=18.64c84f41.chunk.js.map